(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79684,e=>{"use strict";let t,n,r;var i,l=e.i(63219),o=e.i(77411);let s=(0,o.createContext)(null);function a(){let e=(0,o.useContext)(s);return null==e&&function(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let e of(r.append("code",8),t))r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #8; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(0),e}function u(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let n of(r.append("code",e),t))r.append("v",n);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function d(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let n of(r.append("code",e),t))r.append("v",n);n.search=r.toString(),console.warn(`Minified Lexical warning #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let f="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,c=f&&"documentMode"in document?document.documentMode:null,h=f&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),g=f&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),p=!(!f||!("InputEvent"in window)||c)&&"getTargetRanges"in new window.InputEvent("input"),m=f&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),y=f&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,_=f&&/Android/.test(navigator.userAgent),x=f&&/^(?=.*Chrome).*/i.test(navigator.userAgent),v=f&&_&&x,b=f&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&h&&!x;function C(...e){let t=[];for(let n of e)if(n&&"string"==typeof n)for(let[e]of n.matchAll(/\S+/g))t.push(e);return t}let S=m||y||b?" ":"​",w=g?" ":S,E="֑-߿יִ-﷽ﹰ-ﻼ",T="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",k=(RegExp("^[^"+T+"]*["+E+"]"),RegExp("^[^"+E+"]*["+T+"]"),{bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512}),N={directionless:1,unmergeable:2},O={center:2,end:6,justify:4,left:1,right:3,start:5},A={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},M={normal:0,segmented:2,token:1},P={0:"normal",2:"segmented",1:"token"},D="$config",L=!1,R=0;function F(e){R=e.timeStamp}function I(e,t,n){let r="BR"===e.nodeName,i=t.__lexicalLineBreak;return i&&(e===i||r&&e.previousSibling===i)||r&&void 0!==rW(e,n)}function z(e,t,n){L=!0;let r=performance.now()-R>100;try{n7(e,()=>{let i=nP()||e.getEditorState().read(()=>{let e=nP();return null!==e?e.clone():null}),l=new Map,o=e.getRootElement(),s=e._editorState,a=e._blockCursorElement,u=!1,d="";for(let n=0;n<t.length;n++){let f=t[n],c=f.type,h=f.target,p=function(e,t,n,r){var i;for(let l=e;l&&(i=l,!0!==i.__lexicalUnmanaged);l=io(l)){let e=rW(l,t);if(void 0!==e){let t=rB(e,n);if(t)return rl(t)||!i_(l)?void 0:[l,t]}else if(l===r)return[r,rU(n)]}}(h,e,s,o);if(!p)continue;let[m,y]=p;if("characterData"===c)r&&nl(y)&&rM(h)&&function(e,t,n){if(np(e)){let t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return rM(t)&&n.isAttached()}(i,h,y)&&function(e,t,n){let r=iy(id(n)),i=null,l=null;null!==r&&r.anchorNode===e&&(i=r.anchorOffset,l=r.focusOffset);let o=e.nodeValue;null!==o&&r0(t,o,i,l,!1)}(h,y,e);else if("childList"===c){u=!0;let t=f.addedNodes;for(let n=0;n<t.length;n++){let r=t[n],i=rK(r),l=r.parentNode;if(null!=l&&r!==a&&null===i&&!I(r,l,e)){if(g){let e=(i_(r)?r.innerText:null)||r.nodeValue;e&&(d+=e)}l.removeChild(r)}}let n=f.removedNodes,r=n.length;if(r>0){let t=0;for(let i=0;i<r;i++){let r=n[i];(I(r,h,e)||a===r)&&(h.appendChild(r),t++)}r!==t&&l.set(m,y)}}}if(l.size>0)for(let[t,n]of l)n.reconcileObservedMutation(t,e);let f=n.takeRecords();if(f.length>0){for(let t=0;t<f.length;t++){let n=f[t],r=n.addedNodes,i=n.target;for(let t=0;t<r.length;t++){let n=r[t],l=n.parentNode;null==l||"BR"!==n.nodeName||I(n,i,e)||l.removeChild(n)}}n.takeRecords()}null!==i&&(u&&rV(i),g&&it(e)&&i.insertRawText(d))})}finally{L=!1}}function B(e){let t=e._observer;null!==t&&z(e,t.takeRecords(),t)}function K(e){0===R&&id(e).addEventListener("textInput",F,!0),e._observer=new MutationObserver((t,n)=>{z(e,t,n)})}class W{node;knownState;unknownState;sharedNodeState;size;constructor(e,t,n,r=new Map,i){this.node=e,this.sharedNodeState=t,this.unknownState=n,this.knownState=r;const{sharedConfigMap:l}=this.sharedNodeState,o=void 0!==i?i:function(e,t,n){let r=n.size;if(t)for(let i in t){let t=e.get(i);t&&n.has(t)||r++}return r}(l,n,r);this.size=o}getValue(e){let t=this.knownState.get(e);if(void 0!==t)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){let t=this.unknownState[e.key];void 0!==t&&(n=e.parse(t)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let e={...this.unknownState},t={};for(let[t,n]of this.knownState)t.isEqual(n,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(n);for(let n of this.sharedNodeState.flatKeys)n in e&&(t[n]=e[n],delete e[n]);return H(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;let{sharedNodeState:t,unknownState:n}=this,r=new Map(this.knownState);return new W(e,t,function(e,t,n){let r;if(n)for(let[i,l]of Object.entries(n)){let n=e.get(i);n?t.has(n)||t.set(n,n.parse(l)):(r=r||{})[i]=l}return r}(t.sharedConfigMap,r,n),r,this.size)}updateFromKnown(e,t){let n=e.key;this.sharedNodeState.sharedConfigMap.set(n,e);let{knownState:r,unknownState:i}=this;r.has(e)||i&&n in i||(i&&(delete i[n],this.unknownState=H(i)),this.size++),r.set(e,t)}updateFromUnknown(e,t){let n=this.sharedNodeState.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){let{knownState:t}=this;for(let e of t.keys())t.set(e,e.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(let[t,n]of Object.entries(e))this.updateFromUnknown(t,n)}}function j(e){return e.__state?e.__state.sharedNodeState:rb(nX(),e.getType()).sharedNodeState}function H(e){if(e)for(let t in e)return e}function $(e,t,n){for(let[r,i]of t.knownState){if(e.has(r.key))continue;e.add(r.key);let t=n?n.getValue(r):r.defaultValue;if(t!==i&&!r.isEqual(t,i))return!0}return!1}function J(e,t,n){let{unknownState:r}=t,i=n?n.unknownState:void 0;if(r){for(let[t,n]of Object.entries(r))if(!e.has(t)&&(e.add(t),n!==(i?i[t]:void 0)))return!0}return!1}function U(e,t){let n=e.__state;return n&&n.node===e?n.getWritable(t):n}function V(e,t){let n=e.__mode,r=e.__format,i=e.__style,l=t.__mode,o=t.__format,s=t.__style,a=e.__state,u=t.__state;return(null===n||n===l)&&(null===r||r===o)&&(null===i||i===s)&&(null===e.__state||a===u||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;let n=new Set;return!(e&&$(n,e,t)||t&&$(n,t,e)||e&&J(n,e,t)||t&&J(n,t,e))}(a,u))}function Y(e,t){let n=e.mergeWithSibling(t),r=nX()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function q(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&nl(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){V(t,r)&&(r=Y(t,r));break}t.remove()}for(;null!==(n=r.getNextSibling())&&nl(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){V(r,n)&&(r=Y(r,n));break}n.remove()}}else r.remove()}function G(e){return X(e.anchor),X(e.focus),e}function X(e){for(;"element"===e.type;){let t,n,r=e.getNode(),i=e.offset;if(i===r.getChildrenSize()?(t=r.getChildAtIndex(i-1),n=!0):(t=r.getChildAtIndex(i),n=!1),nl(t)){e.set(t.__key,n?t.getTextContentSize():0,"text",!0);break}if(!rn(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element",!0)}}let Z,Q,ee,et,en,er,ei,el,eo,es,ea="",eu=null,ed=null,ef="",ec=!1,eh=!1;function eg(e,t){let n=ei.get(e);if(null!==t){let n=ek(e);n.parentNode===t&&t.removeChild(n)}if(el.has(e)||Q._keyToDOMMap.delete(e),rn(n)){let e=ew(n,ei);ep(e,0,e.length-1,null)}void 0!==n&&r7(es,ee,et,n,"destroyed")}function ep(e,t,n,r){let i=t;for(;i<=n;++i){let t=e[i];void 0!==t&&eg(t,r)}}function em(e,t){e.setProperty("text-align",t)}function ey(e,t){let n=Z.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}let r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px";e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function e_(e,t){let n=e.style;0===t?em(n,""):1===t?em(n,"left"):2===t?em(n,"center"):3===t?em(n,"right"):4===t?em(n,"justify"):5===t?em(n,"start"):6===t&&em(n,"end")}function ex(e,t){let n=function(e){let t=e.__dir;if(null!==t)return t;if(rs(e))return null;let n=e.getParentOrThrow();return rs(n)&&null===n.__dir?"auto":null}(t);null!==n?e.dir=n:e.removeAttribute("dir")}function ev(e,t){var n;let r,i=el.get(e);void 0===i&&u(60);let l=i.createDOM(Z,Q);if(r=(n=Q)._keyToDOMMap,l[`__lexicalKey_${n._key}`]=e,r.set(e,l),nl(i)?l.setAttribute("data-lexical-text","true"):rl(i)&&l.setAttribute("data-lexical-decorator","true"),rn(i)){let e=i.__indent,t=i.__size;ex(l,i),0!==e&&ey(l,e),0!==t&&eb(ew(i,el),i,0,t-1,i.getDOMSlot(l));let n=i.__format;0!==n&&e_(l,n),i.isInline()||eS(null,i,l),ii(i)&&(ea+="\n\n",ef+="\n\n")}else{let t=i.getTextContent();if(rl(i)){let t=i.decorate(Q,Z);null!==t&&eE(e,t),l.contentEditable="false"}ea+=t,ef+=t}return null!==t&&t.insertChild(l),r7(es,ee,et,i,"created"),l}function eb(e,t,n,r,i){let l=ea;ea="";let o=n;for(;o<=r;++o){ev(e[o],i);let t=el.get(e[o]);null!==t&&nl(t)&&null===eu&&(eu=t.getFormat(),ed=t.getStyle())}ii(t)&&(ea+="\n\n"),i.element.__lexicalTextContent=ea,ea=l+ea}function eC(e,t){if(e){let n=e.__last;if(n){let e=t.get(n);if(e)return tZ(e)?"line-break":rl(e)&&e.isInline()?"decorator":null}return"empty"}return null}function eS(e,t,n){let r=eC(e,ei),i=eC(t,el);r!==i&&t.getDOMSlot(n).setManagedLineBreak(i)}function ew(e,t){let n=[],r=e.__first;for(;null!==r;){let e=t.get(r);void 0===e&&u(101),n.push(r),r=e.__next}return n}function eE(e,t){let n=Q._pendingDecorators,r=Q._decorators;if(null===n){if(r[e]===t)return;n=rH(Q)}n[e]=t}function eT(e){let t=e.nextSibling;return null!==t&&t===Q._blockCursorElement&&(t=t.nextSibling),t}function ek(e){let t=eo.get(e);return void 0===t&&u(75,e),t}function eN(e){return{type:e}}let eO=eN("SELECTION_CHANGE_COMMAND"),eA=eN("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),eM=eN("CLICK_COMMAND"),eP=eN("BEFORE_INPUT_COMMAND"),eD=eN("INPUT_COMMAND"),eL=eN("COMPOSITION_START_COMMAND"),eR=eN("COMPOSITION_END_COMMAND"),eF=eN("DELETE_CHARACTER_COMMAND"),eI=eN("INSERT_LINE_BREAK_COMMAND"),ez=eN("INSERT_PARAGRAPH_COMMAND"),eB=eN("CONTROLLED_TEXT_INSERTION_COMMAND"),eK=eN("PASTE_COMMAND"),eW=eN("REMOVE_TEXT_COMMAND"),ej=eN("DELETE_WORD_COMMAND"),eH=eN("DELETE_LINE_COMMAND"),e$=eN("FORMAT_TEXT_COMMAND"),eJ=eN("UNDO_COMMAND"),eU=eN("REDO_COMMAND"),eV=eN("KEYDOWN_COMMAND"),eY=eN("KEY_ARROW_RIGHT_COMMAND"),eq=eN("MOVE_TO_END"),eG=eN("KEY_ARROW_LEFT_COMMAND"),eX=eN("MOVE_TO_START"),eZ=eN("KEY_ARROW_UP_COMMAND"),eQ=eN("KEY_ARROW_DOWN_COMMAND"),e0=eN("KEY_ENTER_COMMAND"),e1=eN("KEY_SPACE_COMMAND"),e2=eN("KEY_BACKSPACE_COMMAND"),e3=eN("KEY_ESCAPE_COMMAND"),e5=eN("KEY_DELETE_COMMAND"),e6=eN("KEY_TAB_COMMAND"),e4=eN("INSERT_TAB_COMMAND"),e9=eN("INDENT_CONTENT_COMMAND"),e7=eN("OUTDENT_CONTENT_COMMAND"),e8=eN("DROP_COMMAND"),te=eN("FORMAT_ELEMENT_COMMAND"),tt=eN("DRAGSTART_COMMAND"),tn=eN("DRAGOVER_COMMAND"),tr=eN("DRAGEND_COMMAND"),ti=eN("COPY_COMMAND"),tl=eN("CUT_COMMAND"),to=eN("SELECT_ALL_COMMAND"),ts=(eN("CLEAR_EDITOR_COMMAND"),eN("CLEAR_HISTORY_COMMAND"),eN("CAN_REDO_COMMAND"),eN("CAN_UNDO_COMMAND"),eN("FOCUS_COMMAND")),ta=eN("BLUR_COMMAND"),tu=eN("KEY_MODIFIER_COMMAND"),td=Object.freeze({}),tf=[["keydown",function(e,t){tc=e.timeStamp,th=e.key,t.isComposing()||ir(t,eV,e)}],["pointerdown",function(e,t){let n=e.target,r=e.pointerType;ix(n)&&"touch"!==r&&"pen"!==r&&0===e.button&&n7(t,()=>{rl(rj(n))||(tx=!0)})}],["compositionstart",function(e,t){ir(t,eL,e)}],["compositionend",function(e,t){g?tb=!0:!y&&(m||b)?(tC=!0,tS=e.data):ir(t,eR,e)}],["input",function(e,t){e.stopPropagation(),n7(t,()=>{t.dispatchCommand(eD,e)},{event:e}),tp=null}],["click",function(e,t){n7(t,()=>{let n=nP(),r=iy(id(t)),i=nD();if(r){if(np(n)){let t=n.anchor,l=t.getNode();if("element"===t.type&&0===t.offset&&n.isCollapsed()&&!rs(l)&&1===rJ().getChildrenSize()&&l.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(3===e.detail&&!n.isCollapsed()&&l!==n.focus.getNode()){let e=iM(l,e=>rn(e)&&!e.isInline());rn(e)&&e.select(0)}}else if("touch"===e.pointerType||"pen"===e.pointerType){let n=r.anchorNode;(i_(n)||rM(n))&&rV(nM(i,r,t,e))}}ir(t,eM,e)})}],["cut",td],["copy",td],["dragstart",td],["dragover",td],["dragend",td],["paste",td],["focus",td],["blur",td],["drop",td]];p&&tf.push(["beforeinput",(e,t)=>{let n;"deleteCompositionText"===(n=e.inputType)||g&&it(t)||"insertCompositionText"!==n&&ir(t,eP,e)}]);let tc=0,th=null,tg=0,tp=null,tm=new WeakMap,ty=new WeakMap,t_=!1,tx=!1,tv=!1,tb=!1,tC=!1,tS="",tw=null,tE=[0,"",0,"root",0];function tT(e,t,n,r,i){let l=e.anchor,o=e.focus,s=l.getNode(),a=nX(),u=iy(id(a)),d=null!==u?u.anchorNode:null,f=l.key,c=a.getElementByKey(f),h=n.length;return f!==o.key||!nl(s)||(!i&&(!p||tg<r+50)||s.isDirty()&&h<2||rq(n))&&l.offset!==o.offset&&!s.isComposing()||rA(s)||s.isDirty()&&h>1||(i||!p)&&null!==c&&!s.isComposing()&&d!==rD(c)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){let n;if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;let r=e.anchor.offset,i=t.getParentOrThrow(),l=rO(t);return 0===r?!t.canInsertTextBefore()||!i.canInsertTextBefore()&&!t.isComposing()||l||(nl(n=t.getPreviousSibling())||rn(n)&&n.isInline())&&!n.canInsertTextAfter():r===t.getTextContentSize()&&(!t.canInsertTextAfter()||!i.canInsertTextAfter()&&!t.isComposing()||l)}(e,s)}function tk(e,t){return rM(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function tN(e,t,n){let{anchorNode:r,anchorOffset:i,focusNode:l,focusOffset:o}=e;t_&&(t_=!1,tk(r,i)&&tk(l,o)&&!tw)||n7(t,()=>{if(!n)return void rV(null);if(!rE(t,r,l))return;let s=nP();if(tw&&np(s)&&s.isCollapsed()){let e=s.anchor,t=tw.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&rV(s=tw.clone())}if(tw=null,np(s)){let n=s.anchor,r=n.getNode();if(s.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(s.dirty=!0);let i=id(t).event,l=i?i.timeStamp:performance.now(),[o,a,d,f,c]=tE,h=rJ(),g=!1===t.isComposing()&&""===h.getTextContent();if(l<c+200&&n.offset===d&&n.key===f)tO(s,o,a);else if("text"===n.type)nl(r)||u(141),tA(s,r);else if("element"===n.type&&!g){rn(r)||u(259);let e=n.getNode();e.isEmpty()?tO(s,e.getTextFormat(),e.getTextStyle()):tO(s,0,"")}}else{let e=n.key,t=s.focus.key,r=s.getNodes(),l=r.length,a=s.isBackward(),u=a?o:i,d=a?i:o,f=a?t:e,c=a?e:t,h=2047,g=!1;for(let e=0;e<l;e++){let t=r[e],n=t.getTextContentSize();if(nl(t)&&0!==n&&(0!==e||t.__key!==f||u!==n)&&(e!==l-1||t.__key!==c||0!==d)&&(g=!0,0==(h&=t.getFormat())))break}s.format=g?h:0}}ir(t,eO,void 0)})}function tO(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function tA(e,t){tO(e,t.getFormat(),t.getStyle())}function tM(e){if(!e.getTargetRanges)return null;let t=e.getTargetRanges();return 0===t.length?null:t[0]}function tP(e){var t;let n=e.inputType,r=tM(e),i=nX(),l=nP();if("deleteContentBackward"===n){if(null===l){let e=nD();if(!np(e))return!0;rV(e.clone())}if(np(l)){let n=l.anchor.key===l.focus.key;if(t=e.timeStamp,"MediaLast"===th&&t<tc+30&&i.isComposing()&&n){if(rI(null),tc=0,setTimeout(()=>{n7(i,()=>{rI(null)})},30),np(l)){let e=l.anchor.getNode();e.markDirty(),nl(e)||u(142),tA(l,e)}}else{rI(null),e.preventDefault();let t=l.anchor.getNode(),r=t.getTextContent(),o=t.canInsertTextAfter(),s=0===l.anchor.offset&&l.focus.offset===r.length,a=v&&n&&!s&&o;if(a&&l.isCollapsed()&&(a=!rl(ie(l.anchor,!0))),!a){ir(i,eF,!0);let e=nP();v&&np(e)&&e.isCollapsed()&&(tw=e,setTimeout(()=>tw=null))}}return!0}}if(!np(l))return!0;let o=e.data;null!==tp&&rQ(!1,i,tp),l.dirty&&null===tp||!l.isCollapsed()||rs(l.anchor.getNode())||null===r||l.applyDOMRange(r),tp=null;let s=l.anchor,a=l.focus,d=s.getNode(),f=a.getNode();if("insertText"===n||"insertTranspose"===n){if("\n"===o)e.preventDefault(),ir(i,eI,!1);else if("\n\n"===o)e.preventDefault(),ir(i,ez,void 0);else if(null==o&&e.dataTransfer){let t=e.dataTransfer.getData("text/plain");e.preventDefault(),l.insertRawText(t)}else null!=o&&tT(l,r,o,e.timeStamp,!0)?(e.preventDefault(),ir(i,eB,o)):tp=o;return tg=e.timeStamp,!0}switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ir(i,eB,e);break;case"insertFromComposition":rI(null),ir(i,eB,e);break;case"insertLineBreak":rI(null),ir(i,eI,!1);break;case"insertParagraph":rI(null),tv&&!y?(tv=!1,ir(i,eI,!1)):ir(i,ez,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ir(i,eK,e);break;case"deleteByComposition":(d!==f||rn(d)||rn(f)||!rO(d)||!rO(f))&&ir(i,eW,e);break;case"deleteByDrag":case"deleteByCut":ir(i,eW,e);break;case"deleteContent":ir(i,eF,!1);break;case"deleteWordBackward":ir(i,ej,!0);break;case"deleteWordForward":ir(i,ej,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ir(i,eH,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ir(i,eH,!1);break;case"formatStrikeThrough":ir(i,e$,"strikethrough");break;case"formatBold":ir(i,e$,"bold");break;case"formatItalic":ir(i,e$,"italic");break;case"formatUnderline":ir(i,e$,"underline");break;case"historyUndo":ir(i,eJ,void 0);break;case"historyRedo":ir(i,eU,void 0)}return!0}function tD(e){if(i_(e.target)&&rl(rj(e.target)))return!0;let t=nX(),n=nP(),r=e.data,i=tM(e);if(null!=r&&np(n)&&tT(n,i,r,e.timeStamp,!1)){tb&&(tF(t,r),tb=!1);let i=n.anchor.getNode(),l=iy(id(t));if(null===l)return!0;let o=n.isBackward(),s=o?n.anchor.offset:n.focus.offset,a=o?n.focus.offset:n.anchor.offset;p&&!n.isCollapsed()&&nl(i)&&null!==l.anchorNode&&i.getTextContent().slice(0,s)+r+i.getTextContent().slice(s+a)===rZ(l.anchorNode)||ir(t,eB,r);let u=r.length;g&&u>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=u),m||y||b||!t.isComposing()||(tc=0,rI(null))}else rQ(!1,t,null!==r?r:void 0),tb&&(tF(t,r||void 0),tb=!1);return nY(),B(nX()),!0}function tL(e){let t=nX(),n=nP();if(np(n)&&!t.isComposing()){let r=n.anchor,i=n.anchor.getNode();rI(r.key),(e.timeStamp<tc+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||nl(i)&&i.getStyle()!==n.style)&&ir(t,eB,w)}return!0}function tR(e){return tF(nX(),e.data),!0}function tF(e,t){let n=e._compositionKey;if(rI(null),null!==n&&null!=t){if(""===t){let t=rB(n),r=rD(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&nl(t)&&r0(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){let t=nP();if(np(t)){let n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void ir(e,e0,null)}}}rQ(!0,e,t)}function tI(e){let t=nX();if(null==e.key)return!0;if(tC&&r4(e))return n7(t,()=>{tF(t,tS)}),tC=!1,tS="",!0;if(r3(e,"ArrowRight",{shiftKey:"any"}))ir(t,eY,e);else if(r3(e,"ArrowRight",r5))ir(t,eq,e);else if(r3(e,"ArrowLeft",{shiftKey:"any"}))ir(t,eG,e);else if(r3(e,"ArrowLeft",r5))ir(t,eX,e);else if(r3(e,"ArrowUp",{altKey:"any",shiftKey:"any"}))ir(t,eZ,e);else if(r3(e,"ArrowDown",{altKey:"any",shiftKey:"any"}))ir(t,eQ,e);else if(r3(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0}))tv=!0,ir(t,e0,e);else if(" "===e.key)ir(t,e1,e);else if(h&&r3(e,"o",{ctrlKey:!0}))e.preventDefault(),tv=!0,ir(t,eI,!0);else if(r3(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"}))tv=!1,ir(t,e0,e);else if(r3(e,"Backspace",{shiftKey:"any"})||h&&r3(e,"h",{ctrlKey:!0}))r4(e)?ir(t,e2,e):(e.preventDefault(),ir(t,eF,!0));else if("Escape"===e.key)ir(t,e3,e);else if(r3(e,"Delete",{})||h&&r3(e,"d",{ctrlKey:!0}))"Delete"!==e.key?(e.preventDefault(),ir(t,eF,!1)):ir(t,e5,e);else if(r3(e,"Backspace",r6))e.preventDefault(),ir(t,ej,!0);else if(r3(e,"Delete",r6))e.preventDefault(),ir(t,ej,!1);else if(h&&r3(e,"Backspace",{metaKey:!0}))e.preventDefault(),ir(t,eH,!0);else if(h&&(r3(e,"Delete",{metaKey:!0})||r3(e,"k",{ctrlKey:!0})))e.preventDefault(),ir(t,eH,!1);else if(r3(e,"b",r5))e.preventDefault(),ir(t,e$,"bold");else if(r3(e,"u",r5))e.preventDefault(),ir(t,e$,"underline");else if(r3(e,"i",r5))e.preventDefault(),ir(t,e$,"italic");else if(r3(e,"Tab",{shiftKey:"any"}))ir(t,e6,e);else if(r3(e,"z",r5))e.preventDefault(),ir(t,eJ,void 0);else if(h?r3(e,"z",{metaKey:!0,shiftKey:!0}):r3(e,"y",{ctrlKey:!0})||r3(e,"z",{ctrlKey:!0,shiftKey:!0}))e.preventDefault(),ir(t,eU,void 0);else{let n=t._editorState._selection;null===n||np(n)?r3(e,"a",r5)&&(e.preventDefault(),ir(t,to,e)):r3(e,"c",r5)?(e.preventDefault(),ir(t,ti,e)):r3(e,"x",r5)?(e.preventDefault(),ir(t,tl,e)):r3(e,"a",r5)&&(e.preventDefault(),ir(t,to,e))}return(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)&&t.dispatchCommand(tu,e),!0}function tz(e){let t=e.__lexicalEventHandles;return void 0===t&&(e.__lexicalEventHandles=t=[]),t}let tB=new Map;function tK(e){let t,n=(t=iu(e.target))?t.getSelection():null;if(null===n)return;let r=rk(n.anchorNode);if(null===r)return;tx&&(tx=!1,n7(r,()=>{let t=nD(),i=n.anchorNode;(i_(i)||rM(i))&&rV(nM(t,n,r,e))}));let i=rG(r),l=i[i.length-1],o=l._key,s=tB.get(o),a=s||l;a!==r&&tN(n,a,!1),tN(n,r,!0),r!==l?tB.set(o,r):s&&tB.delete(o)}function tW(e){e._lexicalHandled=!0}function tj(e){return!0===e._lexicalHandled}let tH=()=>{};function t$(e,t,n){nY();let r=e.__key,i=e.getParent();if(null===i)return;let l=function(e){let t=nP();if(!np(t)||!rn(e))return t;let{anchor:n,focus:r}=t,i=n.getNode(),l=r.getNode();return ia(i,e)&&n.set(e.__key,0,"element"),ia(l,e)&&r.set(e.__key,0,"element"),t}(e),o=!1;if(np(l)&&t){let t=l.anchor,n=l.focus;t.key===r&&(nF(t,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0),n.key===r&&(nF(n,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0)}else ny(l)&&t&&e.isSelected()&&e.selectPrevious();if(np(l)&&t&&!o){let t=e.getIndexWithinParent();rR(e),nL(l,i,t,-1)}else rR(e);n||ic(i)||i.canBeEmpty()||!i.isEmpty()||t$(i,t),t&&l&&rs(i)&&i.isEmpty()&&i.selectEnd()}let tJ=Symbol.for("ephemeral");function tU(e){return e[tJ]||!1}class tV{__type;__key;__parent;__prev;__next;__state;static getType(){let{ownNodeType:e}=iA(this);return void 0===e&&u(64,this.name),e}static clone(e){u(65,this.name)}$config(){return{}}config(e,t){let n=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:n,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}static importDOM;constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),function(e,t){let n,r=(n=rx,rx=null,n);if(null!=(t=t||r&&r.__key))return e.__key=t;nY(),nq();let i=nX(),l=nG(),o=""+rv++;l._nodeMap.set(o,e),rn(e)?i._dirtyElements.set(o,!0):i._dirtyLeaves.add(o),i._cloneNotNeeded.add(o),i._dirtyType=1,e.__key=o}(this,e)}getType(){return this.__type}isInline(){u(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;let t=rB(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){let t=e||nP();if(null==t)return!1;let n=t.getNodes().some(e=>e.__key===this.__key);if(nl(this))return n;if(np(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;let e=this.getParent();if(rl(this)&&this.isInline()&&e){let n=t.isBackward()?t.focus:t.anchor;if(e.is(n.getNode())&&n.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){let e=this.getParent();if(null===e)return -1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return -1}getParent(){let e=this.getLatest().__parent;return null===e?null:rB(e)}getParentOrThrow(){let e=this.getParent();return null===e&&u(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(ic(t))return rn(e)||e===this&&rl(e)||u(194),e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&u(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:rB(e)}getPreviousSiblings(){let e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:rB(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=rn(this)?this:this.getParent(),n=rn(e)?e:e.getParent(),r=t&&n?i5(t,n):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){let t=i5(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===i2(t):("same"!==t.type&&"ancestor"!==t.type&&u(279),!1)))}isParentOf(e){let t=i5(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){let t=this.isBefore(e),n=[],r=new Set,i=this;for(;null!==i;){let l=i.__key;if(r.has(l)||(r.add(l),n.push(i)),i===e)break;let o=rn(i)?t?i.getFirstChild():i.getLastChild():null;if(null!==o){i=o;continue}let s=t?i.getNextSibling():i.getPreviousSibling();if(null!==s){i=s;continue}let a=i.getParentOrThrow();if(r.has(a.__key)||n.push(a),a===e)break;let d=null,f=a;do{if(null===f&&u(68),d=t?f.getNextSibling():f.getPreviousSibling(),null===(f=f.getParent()))break;null!==d||r.has(f.__key)||n.push(f)}while(null===d)i=d}return t||n.reverse(),n}isDirty(){let e=nX()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){if(tU(this))return this;let e=rB(this.__key);return null===e&&u(113),e}getWritable(){if(tU(this))return this;nY();let e=nG(),t=nX(),n=e._nodeMap,r=this.__key,i=this.getLatest(),l=t._cloneNotNeeded,o=nP();if(null!==o&&o.setCachedNodes(null),l.has(r))return rF(i),i;let s=ik(i);return l.add(r),rF(s),n.set(r,s),s}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){u(70)}updateDOM(e,t,n){u(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){let e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){u(18,this.name)}updateFromJSON(e){return function(e,t){let n,r,i=e.getWritable(),l=t.$,o=l;for(let e of j(i).flatKeys)e in t&&(void 0!==o&&o!==l||(o={...l}),o[e]=t[e]);return(i.__state||o)&&(r=(n=e.getWritable()).__state?n.__state.getWritable(n):new W(n,j(n)),n.__state=r,r).updateFromJSON(o),i}(this,e)}static transform(){return null}remove(e){t$(this,!0,e)}replace(e,t){nY();let n=nP();null!==n&&(n=n.clone()),ig(this,e);let r=this.getLatest(),i=this.__key,l=e.__key,o=e.getWritable(),s=this.getParentOrThrow().getWritable(),a=s.__size;rR(o);let d=r.getPreviousSibling(),f=r.getNextSibling(),c=r.__prev,h=r.__next,g=r.__parent;if((t$(r,!1,!0),null===d)?s.__first=l:d.getWritable().__next=l,(o.__prev=c,null===f)?s.__last=l:f.getWritable().__prev=l,o.__next=h,o.__parent=g,s.__size=a,t&&(rn(this)&&rn(o)||u(139),this.getChildren().forEach(e=>{o.append(e)})),np(n)){rV(n);let e=n.anchor,t=n.focus;e.key===i&&nh(e,o),t.key===i&&nh(t,o)}return rz()===i&&rI(l),o}insertAfter(e,t=!0){nY(),ig(this,e);let n=this.getWritable(),r=e.getWritable(),i=r.getParent(),l=nP(),o=!1,s=!1;if(null!==i){let t=e.getIndexWithinParent();if(rR(r),np(l)){let e=i.__key,n=l.anchor,r=l.focus;o="element"===n.type&&n.key===e&&n.offset===t+1,s="element"===r.type&&r.key===e&&r.offset===t+1}}let a=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),d=r.__key,f=n.__next;if(null===a?u.__last=d:a.getWritable().__prev=d,u.__size++,n.__next=d,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,t&&np(l)){let e=this.getIndexWithinParent();nL(l,u,e+1);let t=u.__key;o&&l.anchor.set(t,e+2,"element"),s&&l.focus.set(t,e+2,"element")}return e}insertBefore(e,t=!0){nY(),ig(this,e);let n=this.getWritable(),r=e.getWritable(),i=r.__key;rR(r);let l=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),s=n.__prev,a=this.getIndexWithinParent();null===l?o.__first=i:l.getWritable().__next=i,o.__size++,n.__prev=i,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent;let u=nP();return t&&np(u)&&nL(u,this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return rg()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){nY();let n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(rn(n))return n.select();if(!nl(n)){let e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){nY();let n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(rn(n))return n.select(0,0);if(!nl(n)){let e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}let tY="history-merge";class tq extends tV{static getType(){return"linebreak"}static clone(e){return new tq(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(e){let t=e.parentElement;if(null!==t&&iC(t)){let n=t.firstChild;if(n===e||n.nextSibling===e&&tQ(n)){let n=t.lastChild;if(n===e||n.previousSibling===e&&tQ(n))return!0}}return!1})(e)||function(e){let t=e.parentElement;if(null!==t&&iC(t)){let n=t.firstChild;if(n===e||n.nextSibling===e&&tQ(n))return!1;let r=t.lastChild;if(r===e||r.previousSibling===e&&tQ(r))return!0}return!1}(e)?null:{conversion:tG,priority:0}}}static importJSON(e){return tX().updateFromJSON(e)}}function tG(e){return{node:tX()}}function tX(){return ih(new tq)}function tZ(e){return e instanceof tq}function tQ(e){return rM(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function t0(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function t1(e,t){return 1&t?"strong":2&t?"em":"span"}function t2(e,t,n,r,i){let l=r.classList,o=r9(i,"base");void 0!==o&&l.add(...o);let s=!1,a=8&t&&4&t;for(let e in void 0!==(o=r9(i,"underlineStrikethrough"))&&(8&n&&4&n?(s=!0,a||l.add(...o)):a&&l.remove(...o)),k){let r=k[e];if(void 0!==(o=r9(i,e)))if(n&r){if(s&&("underline"===e||"strikethrough"===e)){t&r&&l.remove(...o);continue}(0==(t&r)||a&&"underline"===e||"strikethrough"===e)&&l.add(...o)}else t&r&&l.remove(...o)}}function t3(e,t,n){let r=t.firstChild,i=n.isComposing(),l=e+(i?S:"");if(null==r)t.textContent=l;else{let e=r.nodeValue;if(e!==l)if(i||g){let[t,n,i]=function(e,t){let n=e.length,r=t.length,i=0,l=0;for(;i<n&&i<r&&e[i]===t[i];)i++;for(;l+i<n&&l+i<r&&e[n-l-1]===t[r-l-1];)l++;return[i,n-i-l,t.slice(i,r-l)]}(e,l);0!==n&&r.deleteData(t,n),r.insertData(t,i)}else r.nodeValue=l}}function t5(e,t,n,r,i,l){t3(i,e,t);let o=l.theme.text;void 0!==o&&t2(0,0,r,e,o)}function t6(e,t){let n=document.createElement(t);return n.appendChild(e),n}class t4 extends tV{__text;__format;__style;__mode;__detail;static getType(){return"text"}static clone(e){return new t4(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return P[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===rz()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){let t=k[e];return 0!=(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return rL(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){let n=this.__format,r=t0(0,n),i=t1(0,n),l=null===r?i:r,o=document.createElement(l),s=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==r&&(s=document.createElement(i),o.appendChild(s)),t5(s,this,0,n,this.__text,e);let a=this.__style;return""!==a&&(o.style.cssText=a),o}updateDOM(e,t,n){let r=this.__text,i=e.__format,l=this.__format,o=t0(0,i),s=t0(0,l),a=t1(0,i),d=t1(0,l);if((null===o?a:o)!==(null===s?d:s))return!0;if(o===s&&a!==d){let e=t.firstChild;null==e&&u(48);let i=document.createElement(d);return t5(i,this,0,l,r,n),t.replaceChild(i,e),!1}let f=t;null!==s&&null!==o&&null==(f=t.firstChild)&&u(49),t3(r,f,this);let c=n.theme.text;void 0!==c&&i!==l&&t2(0,i,l,f,c);let h=e.__style,g=this.__style;return h!==g&&(t.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:ne,priority:0}),b:()=>({conversion:t7,priority:0}),code:()=>({conversion:nr,priority:0}),em:()=>({conversion:nr,priority:0}),i:()=>({conversion:nr,priority:0}),mark:()=>({conversion:nr,priority:0}),s:()=>({conversion:nr,priority:0}),span:()=>({conversion:t9,priority:0}),strong:()=>({conversion:nr,priority:0}),sub:()=>({conversion:nr,priority:0}),sup:()=>({conversion:nr,priority:0}),u:()=>({conversion:nr,priority:0})}}static importJSON(e){return ni().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return i_(t)||u(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=t6(t,"b")),this.hasFormat("italic")&&(t=t6(t,"i")),this.hasFormat("strikethrough")&&(t=t6(t,"s")),this.hasFormat("underline")&&(t=t6(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?k[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?N[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){let t=rL(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){let t=M[e];if(this.__mode===t)return this;let n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){nY();let n=e,r=t,i=nP(),l=this.getTextContent(),o=this.__key;if("string"==typeof l){let e=l.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!np(i))return nN(o,n,o,r,"text","text");{let e=rz();e!==i.anchor.key&&e!==i.focus.key||rI(o),i.setTextNodeRange(this,n,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){let i=this.getWritable(),l=i.__text,o=n.length,s=e;s<0&&(s=o+s)<0&&(s=0);let a=nP();if(r&&np(a)){let t=e+o;a.setTextNodeRange(i,t,i,t)}return i.__text=l.slice(0,s)+n+l.slice(s+t),i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){let t;nY();let n=this.getLatest(),r=n.getTextContent();if(""===r)return[];let i=n.__key,l=rz(),o=r.length;e.sort((e,t)=>e-t),e.push(o);let s=[],a=e.length;for(let t=0,n=0;t<o&&n<=a;n++){let i=e[n];i>t&&(s.push(r.slice(t,i)),t=i)}let u=s.length;if(1===u)return[n];let d=s[0],f=n.getParent(),c=n.getFormat(),h=n.getStyle(),g=n.__detail,p=!1,m=null,y=null,_=nP();if(np(_)){let[e,t]=_.isBackward()?[_.focus,_.anchor]:[_.anchor,_.focus];"text"===e.type&&e.key===i&&(m=e),"text"===t.type&&t.key===i&&(y=t)}n.isSegmented()?((t=ni(d)).__format=c,t.__style=h,t.__detail=g,t.__state=U(n,t),p=!0):t=n.setTextContent(d);let x=[t];for(let e=1;e<u;e++){let t=ni(s[e]);t.__format=c,t.__style=h,t.__detail=g,t.__state=U(n,t);let r=t.__key;l===i&&rI(r),x.push(t)}let v=m?m.offset:null,b=y?y.offset:null,C=0;for(let e of x){if(!m&&!y)break;let t=C+e.getTextContentSize();if(null!==m&&null!==v&&v<=t&&v>=C&&(m.set(e.getKey(),v-C,"text"),v<t&&(m=null)),null!==y&&null!==b&&b<=t&&b>=C){y.set(e.getKey(),b-C,"text");break}C=t}if(null!==f){let e,t;e=this.getPreviousSibling(),t=this.getNextSibling(),null!==e&&rF(e),null!==t&&rF(t);let n=f.getWritable(),r=this.getIndexWithinParent();p?(n.splice(r,0,x),this.remove()):n.splice(r,1,x),np(_)&&nL(_,f,r,u-1)}return x}mergeWithSibling(e){let t=e===this.getPreviousSibling();t||e===this.getNextSibling()||u(50);let n=this.__key,r=e.__key,i=this.__text,l=i.length;rz()===r&&rI(n);let o=nP();if(np(o)){let i=o.anchor,s=o.focus;null!==i&&i.key===r&&nI(i,t,n,e,l),null!==s&&s.key===r&&nI(s,t,n,e,l)}let s=e.__text,a=t?s+i:i+s;this.setTextContent(a);let d=this.getWritable();return e.remove(),d}isTextEntity(){return!1}}function t9(e){return{forChild:no(e.style),node:null}}function t7(e){let t="normal"===e.style.fontWeight;return{forChild:no(e.style,t?void 0:"bold"),node:null}}let t8=new WeakMap;function ne(e){null===e.parentElement&&u(129);let t=e.textContent||"";if(null!==function(e){let t,n=e.parentNode,r=[e];for(;null!==n&&void 0===(t=t8.get(n))&&!function(e){if(!i_(e))return!1;if("PRE"===e.nodeName)return!0;let t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}(n);)r.push(n),n=n.parentNode;let i=void 0===t?n:t;for(let e=0;e<r.length;e++)t8.set(r[e],i);return i}(e)){let e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(let t=0;t<r;t++){let r=e[t];"\n"===r||"\r\n"===r?n.push(tX()):"	"===r?n.push(na()):""!==r&&n.push(ni(r))}return{node:n}}if(""===(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===t[0]){let n=e,r=!0;for(;null!==n&&null!==(n=nt(n,!1));){let e=n.textContent||"";if(e.length>0){/[ \t\n]$/.test(e)&&(t=t.slice(1)),r=!1;break}}r&&(t=t.slice(1))}if(" "===t[t.length-1]){let n=e,r=!0;for(;null!==n&&null!==(n=nt(n,!0));)if((n.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(t=t.slice(0,t.length-1))}return""===t?{node:null}:{node:ni(t)}}function nt(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){let e=n.parentElement;if(null===e)return null;n=e}if(i_(n=e)){let e=n.style.display;if(""===e&&!ib(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(rM(n))return n;if("BR"===n.nodeName)return null}}let nn={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function nr(e){let t=nn[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:no(e.style,t),node:null}}function ni(e=""){return ih(new t4(e))}function nl(e){return e instanceof t4}function no(e,t){let n=e.fontWeight,r=e.textDecoration.split(" "),i="700"===n||"bold"===n,l=r.includes("line-through"),o="italic"===e.fontStyle,s=r.includes("underline"),a=e.verticalAlign;return e=>(nl(e)&&(i&&!e.hasFormat("bold")&&e.toggleFormat("bold"),l&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),o&&!e.hasFormat("italic")&&e.toggleFormat("italic"),s&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==a||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==a||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t)),e)}class ns extends t4{static getType(){return"tab"}static clone(e){return new ns(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){let t=super.createDOM(e),n=r9(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return na().updateFromJSON(e)}setTextContent(e){return"	"!==e&&""!==e&&d(126),super.setTextContent("	")}spliceText(e,t,n,r){return""===n&&0===t||"	"===n&&1===t||u(286),this}setDetail(e){return 2!==e&&u(127),this}setMode(e){return"normal"!==e&&u(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function na(){return ih(new ns)}function nu(e){return e instanceof ns}class nd{key;offset;type;_selection;constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:0>i1(ln(i6(this,"next")),ln(i6(e,"next")))}getNode(){let e=rB(this.key);return null===e&&u(20),e}set(e,t,n,r){let i=this._selection,l=this.key;r&&this.key===e&&this.offset===t&&this.type===n||(this.key=e,this.offset=t,this.type=n,nV()||(rz()===l&&rI(e),null!==i&&(i.setCachedNodes(null),i.dirty=!0)))}}function nf(e,t,n){return new nd(e,t,n)}function nc(e,t){let n=t.__key,r=e.offset,i="element";if(nl(t)){i="text";let e=t.getTextContentSize();r>e&&(r=e)}else if(!rn(t)){let e=t.getNextSibling();if(nl(e))n=e.__key,r=0,i="text";else{let e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function nh(e,t){if(rn(t)){let n=t.getLastDescendant();rn(n)||nl(n)?nc(e,n):nc(e,t)}else nc(e,t)}class ng{_nodes;_cachedNodes;dirty;constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!ny(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every(e=>n.has(e))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new ng(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){let t,n=this.getNodes(),r=n.length,i=n[r-1];if(nl(i))t=i.select();else{let e=i.getIndexWithinParent()+1;t=i.getParentOrThrow().select(e,e)}t.insertNodes(e);for(let e=0;e<r;e++)n[e].remove()}getNodes(){let e=this._cachedNodes;if(null!==e)return e;let t=this._nodes,n=[];for(let e of t){let t=rB(e);null!==t&&n.push(t)}return nV()||(this._cachedNodes=n),n}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}deleteNodes(){let e=this.getNodes();if((nP()||nD())===this&&e[0]){var t;let n,r,i=iJ(e[0],"next");t=iQ(i,i),i9(r=np(n=nP())?n:nO(),t),rV(r)}for(let t of e)t.remove()}}function np(e){return e instanceof nm}class nm{format;style;anchor;focus;_cachedNodes;dirty;constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!np(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let e=this._cachedNodes;if(null!==e)return e;let t=function(e){let t=[],[n,r]=e.getTextSlices();n&&t.push(n.caret.origin);let i=new Set,l=new Set;for(let n of e)if(iW(n)){let{origin:e}=n;0===t.length?i.add(e):(l.add(e),t.push(e))}else{let{origin:e}=n;rn(e)&&l.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),iK(e.focus)&&rn(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let n=iY(e.focus.origin,"previous");iW(n)&&i.has(n.origin)&&!n.origin.isEmpty()&&n.origin.is(t[t.length-1]);n=iq(n))i.delete(n.origin),t.pop();for(;t.length>1;){let e=t[t.length-1];if(!rn(e)||l.has(e)||e.isEmpty()||i.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){let n=ln(e.anchor),r=ln(e.anchor.getFlipped()),i=e=>iB(e)?e.origin:e.getNodeAtCaret(),l=i(n)||i(r)||(e.anchor.getNodeAtCaret()?n.origin:r.origin);t.push(l)}return t}(ll(i7(this),"next"));return nV()||(this._cachedNodes=t),t}setTextNodeRange(e,t,n,r){this.anchor.set(e.__key,t,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,l=r.isBefore(i),[o,s]=nx(this),a="",u=!0;for(let d=0;d<e.length;d++){let f=e[d];if(rn(f)&&!f.isInline())u||(a+="\n"),u=!f.isEmpty();else if(u=!1,nl(f)){let e=f.getTextContent();f===t?f===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=o<s?e.slice(o,s):e.slice(s,o)):e=l?e.slice(o):e.slice(s):f===n&&(e=l?e.slice(0,s):e.slice(0,o)),a+=e}else!rl(f)&&!tZ(f)||f===n&&this.isCollapsed()||(a+=f.getTextContent())}return a}applyDOMRange(e){let t=nX(),n=t.getEditorState()._selection,r=nT(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;let[i,l]=r;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(l.key,l.offset,l.type,!0),G(this)}clone(){let e=this.anchor,t=this.focus;return new nm(nf(e.key,e.offset,e.type),nf(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=rL(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){let t=k[e];return 0!=(this.format&t)}insertRawText(e){let t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let e=0;e<r;e++){let r=t[e];"\n"===r||"\r\n"===r?n.push(tX()):"	"===r?n.push(na()):n.push(ni(r))}this.insertNodes(n)}insertText(e){let t=this.anchor,n=this.focus,r=this.format,i=this.style,l=t,o=n;!this.isCollapsed()&&n.isBefore(t)&&(l=n,o=t),"element"===l.type&&function(e,t,n,r){let i=e.getNode(),l=i.getChildAtIndex(e.offset),o=ni();if(o.setFormat(n),o.setStyle(r),rp(l))l.splice(0,0,[o]);else{let e=rs(i)?rg().append(o):o;null===l?i.append(e):l.insertBefore(e)}e.is(t)&&t.set(o.__key,0,"text"),e.set(o.__key,0,"text")}(l,o,r,i),"element"===o.type&&i4(o,ln(i6(o,"next")));let s=l.offset,a=o.offset,d=this.getNodes(),f=d.length,c=d[0];nl(c)||u(26);let h=c.getTextContent().length,g=c.getParentOrThrow(),p=d[f-1];if(1===f&&"element"===o.type&&(a=h,o.set(l.key,a,"text")),this.isCollapsed()&&s===h&&(rA(c)||!c.canInsertTextAfter()||!g.canInsertTextAfter()&&null===c.getNextSibling())){let t=c.getNextSibling();if(nl(t)&&t.canInsertTextBefore()&&!rA(t)||((t=ni()).setFormat(r),t.setStyle(i),g.canInsertTextAfter()?c.insertAfter(t):g.insertAfter(t)),t.select(0,0),c=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===s&&(rA(c)||!c.canInsertTextBefore()||!g.canInsertTextBefore()&&null===c.getPreviousSibling())){let t=c.getPreviousSibling();if(nl(t)&&!rA(t)||((t=ni()).setFormat(r),g.canInsertTextBefore()?c.insertBefore(t):g.insertBefore(t)),t.select(),c=t,""!==e)return void this.insertText(e)}else if(c.isSegmented()&&s!==h){let e=ni(c.getTextContent());e.setFormat(r),c.replace(e),c=e}else if(!this.isCollapsed()&&""!==e){let t=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||rn(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),nE(this.anchor,this.focus,null),void this.insertText(e)}if(1===f){if(rO(c)){let t=ni(e);return t.select(),void c.replace(t)}let t=c.getFormat(),n=c.getStyle();if(s!==a||t===r&&n===i){if(nu(c)){let t=ni(e);return t.setFormat(r),t.setStyle(i),t.select(),void c.replace(t)}}else{if(""!==c.getTextContent()){let t=ni(e);if(t.setFormat(r),t.setStyle(i),t.select(),0===s)c.insertBefore(t,!1);else{let[e]=c.splitText(s);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}c.setFormat(r),c.setStyle(i)}let l=a-s;""===(c=c.spliceText(s,l,e,!0)).getTextContent()?c.remove():"text"===this.anchor.type&&(c.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{let t=new Set([...c.getParentKeys(),...p.getParentKeys()]),n=rn(c)?c:c.getParentOrThrow(),r=rn(p)?p:p.getParentOrThrow(),i=p;if(!n.is(r)&&r.isInline())do i=r,r=r.getParentOrThrow();while(r.isInline())if("text"===o.type&&(0!==a||""===p.getTextContent())||"element"===o.type&&p.getIndexWithinParent()<a)if(nl(p)&&!rO(p)&&a!==p.getTextContentSize()){if(p.isSegmented()){let e=ni(p.getTextContent());p.replace(e),p=e}rs(o.getNode())||"text"!==o.type||(p=p.spliceText(0,a,"")),t.add(p.__key)}else{let e=p.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?p.remove():e.remove()}else t.add(p.__key);let l=r.getChildren(),u=new Set(d),g=n.is(r),m=n.isInline()&&null===c.getNextSibling()?n:c;for(let e=l.length-1;e>=0;e--){let t=l[e];if(t.is(c)||rn(t)&&t.isParentOf(c))break;t.isAttached()&&(!u.has(t)||t.is(i)?g||m.insertAfter(t,!1):t.remove())}if(!g){let e=r,n=null;for(;null!==e;){let r=e.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(rO(c))if(s===h)c.select();else{let t=ni(e);t.select(),c.replace(t)}else""===(c=c.spliceText(s,h-s,e,!0)).getTextContent()?c.remove():c.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<f;e++){let n=d[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){let e=nP()===this;i9(this,function(e,t="removeEmptySlices"){let n,r;if(e.isCollapsed())return e;let i="root",l="next",o=t,s=ll(e,l),a=le(s.anchor,i),d=le(s.focus.getFlipped(),i),f=new Set,c=[];for(let e of s.iterNodeCarets(i))if(iW(e))f.add(e.origin.getKey());else if(iK(e)){let{origin:t}=e;rn(t)&&!f.has(t.getKey())||c.push(t)}for(let e of c)e.remove();for(let e of s.getTextSlices()){if(!e)continue;let{origin:t}=e.caret,n=t.getTextContentSize(),r=i8(iJ(t,l)),i=t.getMode();if(Math.abs(e.distance)===n&&"removeEmptySlices"===o||"token"===i&&0!==e.distance)r.remove();else if(0!==e.distance){o="removeEmptySlices";let t=e.removeTextSlice(),n=e.caret.origin;if("segmented"===i){let e=t.origin,n=ni(e.getTextContent()).setStyle(e.getStyle()).setFormat(e.getFormat());r.replaceOrInsert(n),t=iU(n,l,t.offset)}n.is(a[0].origin)&&(a[0]=t),n.is(d[0].origin)&&(d[0]=t.getFlipped())}}for(let e of a)if(lt(e)){n=ln(e);break}for(let e of d)if(lt(e)){r=ln(e);break}let h=function(e,t,n){let r;if(!e||!t)return null;let i=e.getParentAtCaret(),l=t.getParentAtCaret();if(!i||!l)return null;let o=i.getParents().reverse();o.push(i);let s=l.getParents().reverse();s.push(l);let a=Math.min(o.length,s.length);for(r=0;r<a&&o[r]===s[r];r++);let u=(e,t)=>{let n;for(let i=r;i<e.length;i++){let r=e[i];if(ic(r))return;!n&&t(r)&&(n=r)}return n},d=u(o,iS),f=d&&u(s,e=>n.has(e.getKey())&&iS(e));return d&&f?[d,f]:null}(n,r,f);if(h){let[e,t]=h;iY(e,"previous").splice(0,t.getChildren()),t.remove()}let g=[n,r,...a,...d].find(lt);if(g){var p;return iQ(p=li(ln(g),e.direction),p)}u(269,JSON.stringify(a.map(e=>e.origin.__key)))}(i7(this))),e&&nP()!==this&&rV(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void rI(null);let n=this.getNodes(),r=[];for(let e of n)nl(e)&&r.push(e);let i=t=>{n.forEach(n=>{if(rn(n)){let r=n.getFormatFlags(e,t);n.setTextFormat(r)}})},l=r.length;if(0===l)return this.toggleFormat(e),rI(null),void i(t);let o=this.anchor,s=this.focus,a=this.isBackward(),u=a?s:o,d=a?o:s,f=0,c=r[0],h="element"===u.type?0:u.offset;if("text"===u.type&&h===c.getTextContentSize()&&(f=1,c=r[1],h=0),null==c)return;let g=c.getFormatFlags(e,t);i(g);let p=l-1,m=r[p],y="text"===d.type?d.offset:m.getTextContentSize();if(c.is(m)){if(h===y)return;if(rA(c)||0===h&&y===c.getTextContentSize())c.setFormat(g);else{let e=c.splitText(h,y),t=0===h?e[0]:e[1];t.setFormat(g),"text"===u.type&&u.set(t.__key,0,"text"),"text"===d.type&&d.set(t.__key,y-h,"text")}return void(this.format=g)}0===h||rA(c)||([,c]=c.splitText(h),h=0),c.setFormat(g);let _=m.getFormatFlags(e,g);y>0&&(y===m.getTextContentSize()||rA(m)||([m]=m.splitText(y)),m.setFormat(_));for(let t=f+1;t<p;t++){let n=r[t],i=n.getFormatFlags(e,_);n.setFormat(i)}"text"===u.type&&u.set(c.__key,h,"text"),"text"===d.type&&d.set(m.__key,y,"text"),this.format=g|_}insertNodes(e){var t;if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();let t=nP();return np(t)||u(134),t.insertNodes(e)}let n=(this.isBackward()?this.focus:this.anchor).getNode(),r=iM(n,iS),i=e[e.length-1];if(rn(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{let t=nB(this);r.splice(t,0,e),i.selectEnd()}return}if(!e.some(e=>(rn(e)||rl(e))&&!e.isInline())){rn(r)||u(211,n.constructor.name,n.getType());let t=nB(this);return r.splice(t,0,e),void i.selectEnd()}let l=function(e){let t=rg(),n=null;for(let r=0;r<e.length;r++){let i=e[r],l=tZ(i);if(l||rl(i)&&i.isInline()||rn(i)&&i.isInline()||nl(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),t.append(n),l))continue;null!==n&&n.append(i)}else t.append(i),n=null}return t}(e),o=l.getLastDescendant(),s=l.getChildren(),a=rn(r)&&r.isEmpty()?null:this.insertParagraph(),d=s[s.length-1],f=s[0];rn(t=f)&&iS(t)&&!t.isEmpty()&&rn(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(rn(r)||u(211,n.constructor.name,n.getType()),r.append(...f.getChildren()),f=s[1]),f&&(null===r&&u(212,n.constructor.name,n.getType()),function(e,t){let n=t.getParentOrThrow().getLastChild(),r=t,i=[t];for(;r!==n;)r.getNextSibling()||u(140),i.push(r=r.getNextSibling());let l=e;for(let e of i)l=l.insertAfter(e)}(r,f));let c=iM(o,iS);a&&rn(c)&&(a.canMergeWhenEmpty()||iS(d))&&(c.append(...a.getChildren()),a.remove()),rn(r)&&r.isEmpty()&&r.remove(),o.selectEnd();let h=rn(r)?r.getLastChild():null;tZ(h)&&c!==r&&h.remove()}insertParagraph(){if("root"===this.anchor.key){let e=rg();return rJ().splice(this.anchor.offset,0,[e]),e.select(),e}let e=nB(this),t=iM(this.anchor.getNode(),iS);rn(t)||u(213);let n=t.getChildAtIndex(e),r=n?[n,...n.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...r),i.selectStart(),i):null}insertLineBreak(e){let t=tX();if(this.insertNodes([t]),e){let e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){let e=[...this.getNodes()],t=e.length,n=e[0],r=e[t-1],[i,l]=nx(this),o=this.isBackward(),[s,a]=o?[this.focus,this.anchor]:[this.anchor,this.focus],[u,d]=o?[l,i]:[i,l];if(0===t)return[];if(1===t){if(nl(n)&&!this.isCollapsed()){let e=n.splitText(u,d),t=0===u?e[0]:e[1];return t?(s.set(t.getKey(),0,"text"),a.set(t.getKey(),t.getTextContentSize(),"text"),[t]):[]}return[n]}if(nl(n)&&(u===n.getTextContentSize()?e.shift():0!==u&&([,n]=n.splitText(u),e[0]=n,s.set(n.getKey(),0,"text"))),nl(r)){let t=r.getTextContent().length;0===d?e.pop():d!==t&&([r]=r.splitText(d),e[e.length-1]=r,a.set(r.getKey(),r.getTextContentSize(),"text"))}return e}modify(e,t,n){var r;if(nK(this,e,t,n))return;let i="move"===e,l=nX(),o=iy(id(l));if(!o)return;let s=l._blockCursorElement,a=l._rootElement,u=this.focus.getNode();if(null===a||null===s||!rn(u)||u.isInline()||u.canBeEmpty()||im(s,l,a),this.dirty){let e=il(l,this.anchor.key),t=il(l,this.focus.key);"text"===this.anchor.type&&(e=rD(e)),"text"===this.focus.type&&(t=rD(t)),e&&t&&nz(o,e,this.anchor.offset,t,this.focus.offset)}if(r=t?"backward":"forward",o.modify(e,r,n),o.rangeCount>0){let e=o.getRangeAt(0),n=this.anchor.getNode(),r=rs(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t&&!ic(t);)t=t.getParentOrThrow();return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!i){let n,i,l,s,a,u=this.getNodes(),d=[],f=!1;for(let e=0;e<u.length;e++){let t=u[e];ia(t,r)?d.push(t):f=!0}if(f&&d.length>0)if(t){let e=d[0];rn(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{let e=d[d.length-1];rn(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}o.anchorNode===e.startContainer&&o.anchorOffset===e.startOffset||(n=this.focus,l=(i=this.anchor).key,s=i.offset,a=i.type,i.set(n.key,n.offset,n.type,!0),n.set(l,s,a,!0))}}"lineboundary"===n&&nK(this,e,t,n,"decorators")}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&rn(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){let e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(rn(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){let t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;let r=iZ(i6(t,e?"previous":"next"));if(r.getTextSlices().every(e=>null===e||0===e.distance)){let e={type:"initial"};for(let t of r.iterNodeCarets("shadowRoot"))if(iW(t))if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if(rn(r.anchor.origin)&&r.anchor.origin.isEmpty()){let e=ln(t);i9(this,iQ(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}else{if("merge-block"===e.type)break;if(iK(t)){if(rn(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(rl(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&rn(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();let e=nA();e.add(t.origin.getKey()),rV(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){let{caret:t,block:n}=e;return i9(this,iQ(!t.origin.isEmpty()&&n.isEmpty()?i8(iJ(n,t.direction)):r.anchor,t)),this.removeText()}}let i=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&nv(this,t.getNode()))return}else{let r="text"===i.type?i.getNode():null;if(n="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){let t=i.offset,l=r.getTextContentSize();if(r.is(n)||e&&t!==l||!e&&0!==t)return void nC(r,e,t)}else if(null!==n&&n.isSegmented()){let i=t.offset,l=n.getTextContentSize();if(n.is(r)||e&&0!==i||!e&&i!==l)return void nC(n,e,i)}!function(e,t){let n=e.anchor,r=e.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){var l;let e=n.offset,o=r.offset,s=e<o,a=s?e:o,u=s?o:e,d=u-1;a===d||rq(l=i.getTextContent().slice(a,u))||nb(l)||(t?r.set(r.key,d,r.type):n.set(n.key,d,n.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){let e=this.anchor.getNode();e.isEmpty()&&rs(e.getParent())&&null===e.getPreviousSibling()&&nv(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){let t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function ny(e){return e instanceof ng}function n_(e){let t=e.offset;if("text"===e.type)return t;let n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function nx(e){let t=e.getStartEndPoints();if(null===t)return[0,0];let[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[n_(n),n_(r)]}function nv(e,t){for(let n=t;n;n=n.getParent()){if(rn(n)){if(n.collapseAtStart(e))return!0;if(ic(n))break}if(n.getPreviousSibling())break}return!1}let nb=(()=>{try{let e=RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("❤️")&&t("#️⃣")&&t("👍"))return t}catch(e){}return()=>!1})();function nC(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),i=r.length,l=0,o=0;for(let e=0;e<i;e++){let s=e===i-1;if(o=l,l+=r[e].length,t&&l===n||l>n||s){r.splice(e,1),s&&(o=void 0);break}}let s=r.join("").trim();""===s?e.remove():(e.setTextContent(s),e.select(o,o))}function nS(e,t,n,r){let i,l=t;if(i_(e)){let o=!1,s=e.childNodes,a=s.length,d=r._blockCursorElement;l===a&&(o=!0,l=a-1);let f=s[l],c=!1;if(f===d)f=s[l+1],c=!0;else if(null!==d){let n=d.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,d)&&l--}if(nl(i=rY(f)))l=iV(i,o?"next":"previous");else{let s=rY(e);if(null===s)return null;if(rn(s)){let a,d=r.getElementByKey(s.getKey());null===d&&u(214);let f=s.getDOMSlot(d);[s,l]=f.resolveChildIndex(s,d,e,t),rn(s)||u(215),o&&l>=s.getChildrenSize()&&(l=Math.max(0,s.getChildrenSize()-1));let h=s.getChildAtIndex(l);if(rn(h)&&(a=h.getParent(),null===n||null===a||!a.canBeEmpty()||a!==n.getNode())){let e=o?h.getLastDescendant():h.getFirstDescendant();s=null===e||rn(h=e)?h:h.getParentOrThrow(),l=0}nl(h)?(i=h,s=null,l=iV(h,o?"next":"previous")):h!==s&&o&&!c&&(rn(s)||u(216),l=Math.min(s.getChildrenSize(),l+1))}else{let n=s.getIndexWithinParent();l=0===t&&rl(s)&&rY(e)===s?n:n+1,s=s.getParentOrThrow()}if(rn(s))return nf(s.__key,l,"element")}}else i=rY(e);return nl(i)?nf(i.__key,iV(i,l,"clamp"),"text"):null}function nw(e,t,n){let r=e.offset,i=e.getNode();if(0===r){let r=i.getPreviousSibling(),l=i.getParent();if(t){if((n||!t)&&null===r&&rn(l)&&l.isInline()){let t=l.getPreviousSibling();nl(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else rn(r)&&!n&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):nl(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===i.getTextContent().length){let r=i.getNextSibling(),l=i.getParent();if(t&&rn(r)&&r.isInline())e.set(r.__key,0,"element");else if((n||t)&&null===r&&rn(l)&&l.isInline()&&!l.canInsertTextAfter()){let t=l.getNextSibling();nl(t)&&e.set(t.__key,0,"text")}}}function nE(e,t,n){if("text"===e.type&&"text"===t.type){let r=e.isBefore(t),i=e.is(t);nw(e,r,i),nw(t,!r,i),i&&t.set(e.key,e.offset,e.type);let l=nX();if(l.isComposing()&&l._compositionKey!==e.key&&np(n)){let r=n.anchor,i=n.focus;e.set(r.key,r.offset,r.type,!0),t.set(i.key,i.offset,i.type,!0)}}}function nT(e,t,n,r,i,l){if(null===e||null===n||!rE(i,e,n))return null;let o=nS(e,t,np(l)?l.anchor:null,i);if(null===o)return null;let s=nS(n,r,np(l)?l.focus:null,i);if(null===s)return null;if("element"===o.type&&"element"===s.type){let t=rY(e),r=rY(n);if(rl(t)&&rl(r))return null}return nE(o,s,l),[o,s]}function nk(e){return rn(e)&&!e.isInline()}function nN(e,t,n,r,i,l){let o=nG(),s=new nm(nf(e,t,i),nf(n,r,l),0,"");return s.dirty=!0,o._selection=s,s}function nO(){return new nm(nf("root",0,"element"),nf("root",0,"element"),0,"")}function nA(){return new ng(new Set)}function nM(e,t,n,r){let i,l,o,s,a=n._window;if(null===a)return null;let u=r||a.event,d=u?u.type:void 0,f="selectionchange"===d,c=!L&&(f||"beforeinput"===d||"compositionstart"===d||"compositionend"===d||"click"===d&&u&&3===u.detail||"drop"===d||void 0===d);if(np(e)&&!c)return e.clone();if(null===t)return null;if(i=t.anchorNode,l=t.focusNode,o=t.anchorOffset,s=t.focusOffset,(f||void 0===d)&&np(e)&&!rE(n,i,l))return e.clone();let h=nT(i,o,l,s,n,e);if(null===h)return null;let[g,p]=h;return new nm(g,p,np(e)?e.format:0,np(e)?e.style:"")}function nP(){return nG()._selection}function nD(){return nX()._editorState._selection}function nL(e,t,n,r=1){let i=e.anchor,l=e.focus,o=i.getNode(),s=l.getNode();if(!t.is(o)&&!t.is(s))return;let a=t.__key;if(e.isCollapsed()){let t=i.offset;if(n<=t&&r>0||n<t&&r<0){let n=Math.max(0,t+r);i.set(a,n,"element"),l.set(a,n,"element"),nR(e)}}else{let o=e.isBackward(),s=o?l:i,u=s.getNode(),d=o?i:l,f=d.getNode();if(t.is(u)){let e=s.offset;(n<=e&&r>0||n<e&&r<0)&&s.set(a,Math.max(0,e+r),"element")}if(t.is(f)){let e=d.offset;(n<=e&&r>0||n<e&&r<0)&&d.set(a,Math.max(0,e+r),"element")}}nR(e)}function nR(e){let t=e.anchor,n=t.offset,r=e.focus,i=r.offset,l=t.getNode(),o=r.getNode();if(e.isCollapsed()){if(!rn(l))return;let e=l.getChildrenSize(),i=n>=e,o=i?l.getChildAtIndex(e-1):l.getChildAtIndex(n);if(nl(o)){let e=0;i&&(e=o.getTextContentSize()),t.set(o.__key,e,"text"),r.set(o.__key,e,"text")}return}if(rn(l)){let e=l.getChildrenSize(),r=n>=e,i=r?l.getChildAtIndex(e-1):l.getChildAtIndex(n);if(nl(i)){let e=0;r&&(e=i.getTextContentSize()),t.set(i.__key,e,"text")}}if(rn(o)){let e=o.getChildrenSize(),t=i>=e,n=t?o.getChildAtIndex(e-1):o.getChildAtIndex(i);if(nl(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}function nF(e,t,n,r,i){let l=null,o=0,s=null;null!==r?(l=r.__key,nl(r)?(o=r.getTextContentSize(),s="text"):rn(r)&&(o=r.getChildrenSize(),s="element")):null!==i&&(l=i.__key,nl(i)?s="text":rn(i)&&(s="element")),null!==l&&null!==s?e.set(l,o,s):(-1===(o=t.getIndexWithinParent())&&(o=n.getChildrenSize()),e.set(n.__key,o,"element"))}function nI(e,t,n,r,i){"text"===e.type?e.set(n,e.offset+(t?0:i),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function nz(e,t,n,r,i){try{e.setBaseAndExtent(t,n,r,i)}catch(e){}}function nB(e){let t=e;e.isCollapsed()||t.removeText();let n=nP();np(n)&&(t=n),np(t)||u(161);let r=t.anchor,i=r.getNode(),l=r.offset;for(;!iS(i);){let e=i;if([i,l]=function(e,t){let n=e.getParent();if(!n){let e=rg();return rJ().append(e),e.select(),[rJ(),0]}if(nl(e)){let r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];let i=+(0!==t);return[n,r[0].getIndexWithinParent()+i]}if(!rn(e)||0===t)return[n,e.getIndexWithinParent()];let r=e.getChildAtIndex(t);if(r){let n=new nm(nf(e.__key,t,"element"),nf(e.__key,t,"element"),0,""),i=e.insertNewAfter(n);i&&i.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}(i,l),e.is(i))break}return l}function nK(e,t,n,r,i="decorators-and-blocks"){if("move"===t&&"character"===r&&!e.isCollapsed()){let[t,r]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}let l=i6(e.focus,n?"previous":"next"),o="lineboundary"===r,s="move"===t,a=l,u="decorators-and-blocks"===i;if(!lr(a)){for(let e of a){u=!1;let{origin:t}=e;if(!rl(t)||t.isIsolated()||(a=e,!o||!t.isInline()))break}if(u)for(let e of iZ(l).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(iW(e))e.origin.isInline()||(a=e);else{if(rn(e.origin))continue;rl(e.origin)&&!e.origin.isInline()&&(a=e)}break}}if(a===l)return!1;if(s&&!o&&rl(a.origin)&&a.origin.isKeyboardSelectable()){let e=nA();return e.add(a.origin.getKey()),rV(e),!0}return a=ln(a),s&&i4(e.anchor,a),i4(e.focus,a),u||!o}let nW=null,nj=null,nH=!1,n$=!1,nJ=0,nU={characterData:!0,childList:!0,subtree:!0};function nV(){return nH||null!==nW&&nW._readOnly}function nY(){nH&&u(13)}function nq(){nJ>99&&u(14)}function nG(){return null===nW&&u(195,nZ()),nW}function nX(){return null===nj&&u(196,nZ()),nj}function nZ(){let e=0,t=new Set,n=r_.version;if("undefined"!=typeof window)for(let r of document.querySelectorAll("[contenteditable]")){let i=rN(r);if(rT(i))e++;else if(i){let e=String(i.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function nQ(e,t,n){let r=t.__type,i=rb(e,r),l=n.get(r);void 0===l&&(l=Array.from(i.transforms),n.set(r,l));let o=l.length;for(let e=0;e<o&&(l[e](t),t.isAttached());e++);}function n0(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function n1(e,t){if(!t)return;let n=e._updateTags,r=t;for(let e of(Array.isArray(t)||(r=[t]),r))n.add(e)}function n2(e,t){let n=e.type,r=t.get(n);void 0===r&&u(17,n);let i=r.klass;e.type!==i.getType()&&u(18,i.name);let l=i.importJSON(e),o=e.children;if(rn(l)&&Array.isArray(o))for(let e=0;e<o.length;e++){let n=n2(o[e],t);l.append(n)}return l}function n3(e,t,n){let r=nW,i=nH,l=nj;nW=t,nH=!0,nj=e;try{return n()}finally{nW=r,nH=i,nj=l}}function n5(e,t){let n,r,i=e._pendingEditorState,l=e._rootElement,o=e._headless||null===l;if(null===i)return;let s=e._editorState,a=s._selection,d=i._selection,f=0!==e._dirtyType,c=nW,h=nH,g=nj,p=e._updating,m=e._observer,y=null;if(e._pendingEditorState=null,e._editorState=i,!o&&f&&null!==m){nj=e,nW=i,nH=!1,e._updating=!0;try{let t,n=e._dirtyType,r=e._dirtyElements,l=e._dirtyLeaves;m.disconnect(),ea="",ef="",ec=2===n,Q=e,Z=e._config,ee=e._nodes,et=Q._listeners.mutation,en=r,er=l,ei=s._nodeMap,el=i._nodeMap,eh=i._readOnly,eo=new Map(e._keyToDOMMap),es=t=new Map,function e(t,n){let r=ei.get(t),i=el.get(t);void 0!==r&&void 0!==i||u(61);let l=ec||er.has(t)||en.has(t),o=il(Q,t);if(r===i&&!l){if(rn(r)){let e=o.__lexicalTextContent;void 0!==e&&(ea+=e,ef+=e)}else{let e=r.getTextContent();ef+=e,ea+=e}return o}if(r!==i&&l&&r7(es,ee,et,i,"updated"),i.updateDOM(r,o,Z)){let e=ev(t,null);return null===n&&u(62),n.replaceChild(e,o),eg(t,null),e}if(rn(r)&&rn(i)){let t=i.__indent;(ec||t!==r.__indent)&&ey(o,t);let n=i.__format;if((ec||n!==r.__format)&&e_(o,n),l&&(function(t,n,r){eu=null,ed=null,function(t,n,r){let i=ea,l=t.__size,o=n.__size;ea="";let s=r.element;if(1===l&&1===o){let r=t.__first,i=n.__first;if(r===i)e(r,s);else{let e=ek(r),t=ev(i,null);try{s.replaceChild(t,e)}catch(n){if("object"==typeof n&&null!=n)throw Error(`${n.toString()} Parent: ${s.tagName}, new child: {tag: ${t.tagName} key: ${i}}, old child: {tag: ${e.tagName}, key: ${r}}.`);throw n}eg(r,null)}let l=el.get(i);nl(l)&&null===eu&&(eu=l.getFormat(),ed=l.getStyle())}else{let i=ew(t,ei),a=ew(n,el);if(i.length!==l&&u(227),a.length!==o&&u(228),0===l)0!==o&&eb(a,n,0,o-1,r);else if(0===o){if(0!==l){let e=null==r.after&&null==r.before&&null==r.element.__lexicalLineBreak;ep(i,0,l-1,e?null:s),e&&(s.textContent="")}}else!function(t,n,r,i,l,o){let s=i-1,a=l-1,u,d,f=o.getFirstChild(),c=0,h=0;for(;c<=s&&h<=a;){let t=n[c],i=r[h];if(t===i)f=eT(e(i,o.element)),c++,h++;else{void 0===u&&(u=new Set(n)),void 0===d&&(d=new Set(r));let l=d.has(t),s=u.has(i);if(l)if(s){let t=il(Q,i);t===f?f=eT(e(i,o.element)):(o.withBefore(f).insertChild(t),e(i,o.element)),c++,h++}else ev(i,o.withBefore(f)),h++;else f=eT(ek(t)),eg(t,o.element),c++}let l=el.get(i);null!==l&&nl(l)&&null===eu&&(eu=l.getFormat(),ed=l.getStyle())}let g=c>s,p=h>a;if(g&&!p){let e=r[a+1],n=void 0===e?null:Q.getElementByKey(e);eb(r,t,h,a,o.withBefore(n))}else p&&!g&&ep(n,c,s,o.element)}(n,i,a,l,o,r)}ii(n)&&(ea+="\n\n"),s.__lexicalTextContent=ea,ea=i+ea}(t,n,n.getDOMSlot(r)),null==eu||eu===n.__textFormat||eh||n.setTextFormat(eu),null==ed||ed===n.__textStyle||eh||n.setTextStyle(ed)}(r,i,o),rs(i)||i.isInline()||eS(r,i,o)),ii(i)&&(ea+="\n\n",ef+="\n\n"),(ec||i.__dir!==r.__dir)&&(ex(o,i),rs(i)&&!ec))for(let e of i.getChildren())rn(e)&&ex(il(Q,e.getKey()),e)}else{let e=i.getTextContent();if(rl(i)){let e=i.decorate(Q,Z);null!==e&&eE(t,e)}ea+=e,ef+=e}if(!eh&&rs(i)&&i.__cachedText!==ef){let e=i.getWritable();e.__cachedText=ef,i=e}return o}("root",null),Q=void 0,ee=void 0,en=void 0,er=void 0,ei=void 0,el=void 0,Z=void 0,eo=void 0,es=void 0,y=t}catch(t){if(t instanceof Error&&e._onError(t),n$)throw t;return rm(e,null,l,i),K(e),e._dirtyType=2,n$=!0,n5(e,s),void(n$=!1)}finally{m.observe(l,nU),e._updating=p,nW=c,nH=h,nj=g}}i._readOnly||(i._readOnly=!0);let _=e._dirtyLeaves,x=e._dirtyElements,v=e._normalizedNodes,b=e._updateTags,S=e._deferred;f&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){let n,r=e._decorators,i=e._pendingDecorators||r,l=t._nodeMap;for(n in i)l.has(n)||(i===r&&(i=rH(e)),delete i[n])}(e,i);let w=o?null:iy(id(e));if(e._editable&&null!==w&&(f||null===d||d.dirty||!d.is(a))&&null!==l&&!b.has("skip-dom-selection")){nj=e,nW=i;try{if(null!==m&&m.disconnect(),f||null===d||d.dirty){let t=e._blockCursorElement;null!==t&&im(t,e,l),function(e,t,n,r,i,l,o){let s=r.anchorNode,a=r.focusNode,u=r.anchorOffset,d=r.focusOffset,f=document.activeElement;if(i.has("collaboration")&&f!==l||null!==f&&rw(f))return;if(!np(t))return null!==e&&rE(n,s,a)&&r.removeAllRanges();let c=t.anchor,h=t.focus,g=c.key,p=h.key,m=il(n,g),y=il(n,p),_=c.offset,x=h.offset,v=t.format,b=t.style,C=t.isCollapsed(),S=m,w=y,E=!1;if("text"===c.type){S=rD(m);let e=c.getNode();E=e.getFormat()!==v||e.getStyle()!==b}else np(e)&&"text"===e.anchor.type&&(E=!0);if("text"===h.type&&(w=rD(y)),null!==S&&null!==w&&(C&&(null===e||E||np(e)&&(e.format!==v||e.style!==b))&&(tE=[v,b,_,g,performance.now()]),u!==_||d!==x||s!==S||a!==w||"Range"===r.type&&C||(null!==f&&l.contains(f)||i.has("skip-selection-focus")||l.focus({preventScroll:!0}),"element"===c.type))){if(nz(r,S,_,w,x),!i.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==l&&l===document.activeElement){let e=np(t)&&"element"===t.anchor.type?S.childNodes[_]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){let n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){let r=is(n),i=iu(r);if(null===r||null===i)return;let{top:l,bottom:o}=t,s=0,a=0,u=n;for(;null!==u;){let t=u===r.body;if(t)s=0,a=id(e).innerHeight;else{let e=u.getBoundingClientRect();s=e.top,a=e.bottom}let n=0;if(l<s?n=-(s-l):o>a&&(n=o-a),0!==n)if(t)i.scrollBy(0,n);else{let e=u.scrollTop;u.scrollTop+=n;let t=u.scrollTop-e;l-=t,o-=t}if(t)break;u=io(u)}}(n,t,l)}}t_=!0}}(a,d,e,w,b,l)}!function(e,t,n){let r=e._blockCursorElement;if(np(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){let i=n.anchor,l=i.getNode(),o=i.offset,s=!1,a=null;if(o===l.getChildrenSize())ip(l.getChildAtIndex(o-1))&&(s=!0);else{let t=l.getChildAtIndex(o);if(null!==t&&ip(t)){let n=t.getPreviousSibling();(null===n||ip(n))&&(s=!0,a=e.getElementByKey(t.__key))}}if(s){let n,i,o,s=e.getElementByKey(l.__key);return null===r&&(n=e._config.theme,(i=document.createElement("div")).contentEditable="false",i.setAttribute("data-lexical-cursor","true"),o=n.blockCursor,void 0!==o&&("string"==typeof o&&(o=n.blockCursor=C(o)),void 0!==o&&i.classList.add(...o)),e._blockCursorElement=r=i),t.style.caretColor="transparent",null===a?s.appendChild(r):s.insertBefore(r,a)}}null!==r&&im(r,e,t)}(e,l,d)}finally{null!==m&&m.observe(l,nU),nj=g,nW=c}}null!==y&&function(e,t,n,r,i){let l=Array.from(e._listeners.mutation),o=l.length;for(let e=0;e<o;e++){let[o,s]=l[e];for(let e of s){let l=t.get(e);void 0!==l&&o(l,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}}(e,y,b,_,s),np(d)||null===d||null!==a&&a.is(d)||e.dispatchCommand(eO,void 0);let E=e._pendingDecorators;null!==E&&(e._decorators=E,e._pendingDecorators=null,n6("decorator",e,!0,E)),n=r$(t||s),n!==(r=r$(i))&&n6("textcontent",e,!0,r),n6("update",e,!0,{dirtyElements:x,dirtyLeaves:_,editorState:i,mutatedNodes:y,normalizedNodes:v,prevEditorState:t||s,tags:b}),function(e,t){if(e._deferred=[],0!==t.length){let n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,S),function(e){let t=e._updates;if(0!==t.length){let n=t.shift();if(n){let[t,r]=n;n9(e,t,r)}}}(e)}function n6(e,t,n,...r){let i=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(let e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function n4(e,t){let n=e._updates,r=t||!1;for(;0!==n.length;){let t=n.shift();if(t){let n,[i,l]=t,o=e._pendingEditorState;void 0!==l&&(n=l.onUpdate,l.skipTransforms&&(r=!0),l.discrete&&(null===o&&u(191),o._flushSync=!0),n&&e._deferred.push(n),n1(e,l.tag)),null==o?n9(e,i,l):i()}}return r}function n9(e,t,n){let r=e._updateTags,i,l=!1,o=!1;void 0!==n&&(i=n.onUpdate,n1(e,n.tag),l=n.skipTransforms||!1,o=n.discrete||!1),i&&e._deferred.push(i);let s=e._editorState,a=e._pendingEditorState,d=!1;(null===a||a._readOnly)&&(a=e._pendingEditorState=ra(a||s),d=!0),a._flushSync=o;let f=nW,c=nH,h=nj,g=e._updating;nW=a,nH=!1,e._updating=!0,nj=e;let p=e._headless||null===e.getRootElement();rx=null;try{var m;let r,i;d&&(p?null!==s._selection&&(a._selection=s._selection.clone()):a._selection=(m=n&&n.event||null,r=e.getEditorState()._selection,i=iy(id(e)),np(r)||null==r?nM(r,i,e,m):r.clone()));let o=e._compositionKey;t(),l=n4(e,l),function(e,t){let n=t.getEditorState()._selection,r=e._selection;if(np(r)){let e,t=r.anchor,i=r.focus;if("text"===t.type&&(e=t.getNode()).selectionTransform(n,r),"text"===i.type){let t=i.getNode();e!==t&&t.selectionTransform(n,r)}}}(a,e),0!==e._dirtyType&&(l?function(e,t){let n=t._dirtyLeaves,r=e._nodeMap;for(let e of n){let t=r.get(e);nl(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&q(t)}}(a,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements,i=e._nodeMap,l=rz(),o=new Map,s=n,a=s.size,u=r,d=u.size;for(;a>0||d>0;){if(a>0){for(let e of(t._dirtyLeaves=new Set,s)){let r=i.get(e);nl(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&q(r),void 0!==r&&n0(r,l)&&nQ(t,r,o),n.add(e)}if((a=(s=t._dirtyLeaves).size)>0){nJ++;continue}}for(let e of(t._dirtyLeaves=new Set,t._dirtyElements=new Map,u.delete("root")&&u.set("root",!0),u)){let n=e[0],s=e[1];if(r.set(n,s),!s)continue;let a=i.get(n);void 0!==a&&n0(a,l)&&nQ(t,a,o)}a=(s=t._dirtyLeaves).size,d=(u=t._dirtyElements).size,nJ++}t._dirtyLeaves=n,t._dirtyElements=r}(a,e),n4(e),function(e,t,n,r){let i=e._nodeMap,l=t._nodeMap,o=[];for(let[e]of r){let t=l.get(e);void 0!==t&&(t.isAttached()||(rn(t)&&function e(t,n,r,i,l,o){let s=t.getFirstChild();for(;null!==s;){let t=s.__key;s.__parent===n&&(rn(s)&&e(s,t,r,i,l,o),r.has(t)||o.delete(t),l.push(t)),s=s.getNextSibling()}}(t,e,i,l,o,r),i.has(e)||r.delete(e),o.push(e)))}for(let e of o)l.delete(e);for(let e of n){let t=l.get(e);void 0===t||t.isAttached()||(i.has(e)||n.delete(e),l.delete(e))}}(s,a,e._dirtyLeaves,e._dirtyElements)),o!==e._compositionKey&&(a._flushSync=!0);let f=a._selection;if(np(f)){let e=a._nodeMap,t=f.anchor.key,n=f.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||u(19)}else ny(f)&&0===f._nodes.size&&(a._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=s,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void n5(e)}finally{nW=f,nH=c,nj=h,e._updating=g,nJ=0}0!==e._dirtyType||e._deferred.length>0||function(e,t){let n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(a,e)?a._flushSync?(a._flushSync=!1,n5(e)):d&&rS(()=>{n5(e)}):(a._flushSync=!1,d&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function n7(e,t,n){nj===e&&void 0===n?t():n9(e,t,n)}class n8{element;before;after;constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new n8(this.element,e,this.after)}withAfter(e){return new n8(this.element,this.before,e)}withElement(e){return this.element===e?this:new n8(e,this.before,this.after)}insertChild(e){let t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&u(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&u(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&u(224),this.element.replaceChild(e,t),this}getFirstChild(){let e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){null===e?this.removeManagedLineBreak():this.insertManagedLineBreak("decorator"===e&&(b||y||m))}removeManagedLineBreak(){let e=this.getManagedLineBreak();if(e){let t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){let t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}let n=this.element,r=this.before,i=document.createElement("br");if(n.insertBefore(i,r),e){let e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,i),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){let t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}let i=re(t,n);i.push(r);let l=re(t,this.element),o=e.getIndexWithinParent();for(let e=0;e<l.length;e++){let t=i[e],n=l[e];if(void 0===t||t<n)break;if(t>n){o+=1;break}}return[e.getParentOrThrow(),o]}}function re(e,t){let n=[],r=t;for(;r!==e&&null!==r;r=r.parentNode){let e=0;for(let t=r.previousSibling;null!==t;t=t.previousSibling)e++;n.push(e)}return r!==e&&u(225),n.reverse()}class rt extends tV{__first;__last;__size;__format;__style;__indent;__dir;__textFormat;__textStyle;constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){return A[this.getFormat()]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=nX()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(nl(t)&&e.push(t),rn(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;rn(e);){let t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;rn(e);){let t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;if(e>=n){let e=t[n-1];return rn(e)&&e.getLastDescendant()||e||null}let r=t[e];return rn(r)&&r.getFirstDescendant()||r||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:rB(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&u(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:rB(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&u(96,this.__key),e}getChildAtIndex(e){let t,n,r=this.getChildrenSize();if(e<r/2){for(t=this.getFirstChild(),n=0;null!==t&&n<=e;){if(n===e)return t;t=t.getNextSibling(),n++}return null}for(t=this.getLastChild(),n=r-1;null!==t&&n>=e;){if(n===e)return t;t=t.getPreviousSibling(),n--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContent(),rn(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}getTextContentSize(){let e=0,t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContentSize(),rn(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){let t=O[e];return 0!=(this.getFormat()&t)}return!1}hasTextFormat(e){let t=k[e];return 0!=(this.getTextFormat()&t)}getFormatFlags(e,t){return rL(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){nY();let n=nP(),r=e,i=t,l=this.getChildrenSize();if(!this.canBeEmpty()){if(0===e&&0===t){let e=this.getFirstChild();if(nl(e)||rn(e))return e.select(0,0)}else if((void 0===e||e===l)&&(void 0===t||t===l)){let e=this.getLastChild();if(nl(e)||rn(e))return e.select()}}void 0===r&&(r=l),void 0===i&&(i=l);let o=this.__key;return np(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):nN(o,r,o,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?O[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){let t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){let t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){tU(this)&&u(324,this.__key,this.__type);let r=this.getChildrenSize(),i=this.getWritable();e+t<=r||u(226,String(e),String(t),String(r));let l=i.__key,o=[],s=[],a=this.getChildAtIndex(e+t),d=null,f=r-t+n.length;if(0!==e)if(e===r)d=this.getLastChild();else{let t=this.getChildAtIndex(e);null!==t&&(d=t.getPreviousSibling())}if(t>0){let e=null===d?this.getFirstChild():d.getNextSibling();for(let n=0;n<t;n++){null===e&&u(100);let t=e.getNextSibling(),n=e.__key;rR(e.getWritable()),s.push(n),e=t}}let c=d;for(let e of n){null!==c&&e.is(c)&&(d=c=c.getPreviousSibling());let t=e.getWritable();t.__parent===l&&f--,rR(t);let n=e.__key;if(null===c)i.__first=n,t.__prev=null;else{let e=c.getWritable();e.__next=n,t.__prev=e.__key}e.__key===l&&u(76),t.__parent=l,o.push(n),c=e}if(e+t===r)null!==c&&(c.getWritable().__next=null,i.__last=c.__key);else if(null!==a){let e=a.getWritable();if(null!==c){let t=c.getWritable();e.__prev=c.__key,t.__next=a.__key}else e.__prev=null}if(i.__size=f,s.length){let e=nP();if(np(e)){let t=new Set(s),n=new Set(o),{anchor:r,focus:i}=e;rr(r,t,n)&&nF(r,r.getNode(),this,d,a),rr(i,t,n)&&nF(i,i.getNode(),this,d,a),0!==f||this.canBeEmpty()||ic(this)||this.remove()}}return i}getDOMSlot(e){return new n8(e)}exportDOM(e){let{element:t}=super.exportDOM(e);if(i_(t)){let e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");let n=this.getDirection();n&&(t.dir=n)}return{element:t}}exportJSON(){let e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0===t&&""===n||ic(this)||this.getChildren().some(nl)||(0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n)),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){let n=this.getDOMSlot(e),r=n.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){let i=t.getElementByKey(e.getKey());null!==i&&(null==r?(n.insertChild(i),r=i):r!==i&&n.replaceChild(i,r),r=r.nextSibling)}}}function rn(e){return e instanceof rt}function rr(e,t,n){let r=e.getNode();for(;r;){let e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class ri extends tV{decorate(e,t){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function rl(e){return e instanceof ri}class ro extends rt{__cachedText;static getType(){return"root"}static clone(){return new ro}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){u(51)}getTextContent(){let e=this.__cachedText;return(nV()||0===nX()._dirtyType)&&null!==e?e:super.getTextContent()}remove(){u(52)}replace(e){u(53)}insertBefore(e){u(54)}insertAfter(e){u(55)}updateDOM(e,t){return!1}splice(e,t,n){for(let e of n)rn(e)||rl(e)||u(282);return super.splice(e,t,n)}static importJSON(e){return rJ().updateFromJSON(e)}collapseAtStart(){return!0}}function rs(e){return e instanceof ro}function ra(e){return new rd(new Map(e._nodeMap))}function ru(){return new rd(new Map([["root",new ro]]))}class rd{_nodeMap;_selection;_flushSync;_readOnly;constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return n3(t&&t.editor||null,this,e)}clone(e){let t=new rd(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return n3(null,this,()=>({root:function e(t){let n=t.exportJSON(),r=t.constructor;if(n.type!==r.getType()&&u(130,r.name),rn(t)){let i=n.children;Array.isArray(i)||u(59,r.name);let l=t.getChildren();for(let t=0;t<l.length;t++){let n=e(l[t]);i.push(n)}}return n}(rJ())}))}}class rf extends rt{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class rc extends rt{static getType(){return"paragraph"}static clone(e){return new rc(e.__key)}createDOM(e){let t=document.createElement("p"),n=r9(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:rh,priority:0})}}exportDOM(e){let{element:t}=super.exportDOM(e);if(i_(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();e&&(t.style.textAlign=e)}return{element:t}}static importJSON(e){return rg().updateFromJSON(e)}exportJSON(){let e=super.exportJSON();if(void 0===e.textFormat||void 0===e.textStyle){let t=this.getChildren().find(nl);t?(e.textFormat=t.getFormat(),e.textStyle=t.getStyle()):(e.textFormat=this.getTextFormat(),e.textStyle=this.getTextStyle())}return e}insertNewAfter(e,t){let n=rg();n.setTextFormat(e.format),n.setTextStyle(e.style);let r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,t),n}collapseAtStart(){let e=this.getChildren();if(0===e.length||nl(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function rh(e){let t=rg();return e.style&&(t.setFormat(e.style.textAlign),iN(e,t)),{node:t}}function rg(){return ih(new rc)}function rp(e){return e instanceof rc}function rm(e,t,n,r){let i=e._keyToDOMMap;i.clear(),e._editorState=ru(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;let l=e._observer;null!==l&&(l.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}function ry(e){var t,n;let r,i,l,o,s=e||{},a=nj,u=s.theme||{},d=void 0===e?a:s.parentEditor||null,f=s.disableEvents||!1,c=ru(),h=s.namespace||(null!==d?d._config.namespace:rX()),g=s.editorState,p=[ro,t4,tq,ns,rc,rf,...s.nodes||[]],{onError:m,html:y}=s,_=void 0===s.editable||s.editable;if(void 0===e&&null!==a)r=a._nodes;else{r=new Map;for(let e=0;e<p.length;e++){let t=p[e],n=null,i=null;if("function"!=typeof t){let e=t;t=e.replace,n=e.with,i=e.withKlass||null}iA(t);let l=t.getType(),o=function(e){let t=new Set,n=new Set,r=e;for(;r;){let{ownNodeConfig:e}=iA(r),i=r.transform;if(!n.has(i)){n.add(i);let e=r.transform();e&&t.add(e)}if(e){let n=e.$transform;n&&t.add(n),r=e.extends}else{let e=Object.getPrototypeOf(r);r=e.prototype instanceof tV&&e!==tV?e:void 0}}return t}(t);r.set(l,{exportDOM:y&&y.export?y.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:i,sharedNodeState:function(e){let t=new Map,n=new Set;for(let r="function"==typeof e?e:e.replace;r.prototype&&void 0!==r.prototype.getType;r=Object.getPrototypeOf(r)){let{ownNodeConfig:e}=iA(r);if(e&&e.stateConfigs)for(let r of e.stateConfigs){let e;"stateConfig"in r?(e=r.stateConfig,r.flat&&n.add(e.key)):e=r,t.set(e.key,e)}}return{flatKeys:n,sharedConfigMap:t}}(p[e]),transforms:o})}}let x=new r_(c,d,r,{disableEvents:f,namespace:h,theme:u},m||console.error,(t=r,n=y?y.import:void 0,i=new Map,l=new Set,o=e=>{Object.keys(e).forEach(t=>{let n=i.get(t);void 0===n&&(n=[],i.set(t,n)),n.push(e[t])})},t.forEach(e=>{let t=e.klass.importDOM;if(null==t||l.has(t))return;l.add(t);let n=t.call(e.klass);null!==n&&o(n)}),n&&o(n),i),_,e);return void 0!==g&&(x._pendingEditorState=g,x._dirtyType=2),x.registerCommand(eP,tP,0),x.registerCommand(eD,tD,0),x.registerCommand(eL,tL,0),x.registerCommand(eR,tR,0),x.registerCommand(eV,tI,0),x}class r_{static version;_headless;_parentEditor;_rootElement;_editorState;_pendingEditorState;_compositionKey;_deferred;_keyToDOMMap;_updates;_updating;_listeners;_commands;_nodes;_decorators;_pendingDecorators;_config;_dirtyType;_cloneNotNeeded;_dirtyLeaves;_dirtyElements;_normalizedNodes;_updateTags;_observer;_key;_onError;_htmlConversions;_window;_editable;_blockCursorElement;_createEditorArgs;constructor(e,t,n,r,i,l,o,s){this._createEditorArgs=s,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=rX(),this._onError=i,this._htmlConversions=l,this._editable=o,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&u(35);let r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);let i=r.get(e);void 0===i&&u(36,String(e));let l=i[n];return l.add(t),()=>{l.delete(t),i.every(e=>0===e.size)&&r.delete(e)}}registerMutationListener(e,t,n){let r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation,l=i.get(t);void 0===l&&(l=new Set,i.set(t,l)),l.add(r);let o=n&&n.skipInitialization;return void 0!==o&&o||this.initializeMutationListener(t,r),()=>{l.delete(r),0===l.size&&i.delete(t)}}getRegisteredNode(e){let t=this._nodes.get(e.getType());return void 0===t&&u(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){let n=this._editorState,r=iT(n).get(t.getType());if(!r)return;let i=new Map;for(let e of r.keys())i.set(e,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){let n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){let n=this.registerNodeTransformToKlass(e,t),r=[n],i=n.replaceWithKlass;if(null!=i){let e=this.registerNodeTransformToKlass(i,t);r.push(e)}return function(e,t){let n=iT(e.getEditorState()),r=[];for(let e of t){let t=n.get(e);t&&r.push(t)}0!==r.length&&e.update(()=>{for(let e of r)for(let t of e.keys()){let e=rB(t);e&&e.markDirty()}},null===e._pendingEditorState?{tag:tY}:void 0)}(this,r.map(e=>e.klass.getType())),()=>{r.forEach(e=>e.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return ir(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let n=r9(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,rm(this,t,e,r),null!==t&&(this._config.disableEvents||function(e){let t=tm.get(e);if(void 0===t)return tH();let n=ty.get(t);if(void 0===n)return tH();let r=n-1;r>=0||u(164),tm.delete(e),ty.set(t,r),0===r&&t.removeEventListener("selectionchange",tK);let i=rN(e);rT(i)?(!function(e){if(null!==e._parentEditor){let t=rG(e),n=t[t.length-1]._key;tB.get(n)===e&&tB.delete(n)}else tB.delete(e._key)}(i),e.__lexicalEditor=null):i&&u(198);let l=tz(e);for(let e=0;e<l.length;e++)l[e]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){let t=iu(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=2,K(this),this._updateTags.add(tY),n5(this),this._config.disableEvents||function(e,t){let n=e.ownerDocument;tm.set(e,n);let r=ty.get(n)??0;r<1&&n.addEventListener("selectionchange",tK),ty.set(n,r+1),e.__lexicalEditor=t;let i=tz(e);for(let n=0;n<tf.length;n++){let[r,l]=tf[n],o="function"==typeof l?e=>{tj(e)||(tW(e),(t.isEditable()||"click"===r)&&l(e,t))}:e=>{if(tj(e))return;tW(e);let n=t.isEditable();switch(r){case"cut":return n&&ir(t,tl,e);case"copy":return ir(t,ti,e);case"paste":return n&&ir(t,eK,e);case"dragstart":return n&&ir(t,tt,e);case"dragover":return n&&ir(t,tn,e);case"dragend":return n&&ir(t,tr,e);case"focus":return n&&ir(t,ts,e);case"blur":return n&&ir(t,ta,e);case"drop":return n&&ir(t,e8,e)}};e.addEventListener(r,o),i.push(()=>{e.removeEventListener(r,o)})}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null,this._updateTags.add(tY),n5(this);n6("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&u(38);let n=e;n._readOnly&&((n=ra(e))._selection=e._selection?e._selection.clone():null),B(this);let r=this._pendingEditorState,i=this._updateTags,l=void 0!==t?t.tag:null;null===r||r.isEmpty()||(null!=l&&i.add(l),n5(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=l&&i.add(l),this._updating||n5(this)}parseEditorState(e,t){return function(e,t,n){let r=ru(),i=nW,l=nH,o=nj,s=t._dirtyElements,a=t._dirtyLeaves,u=t._cloneNotNeeded,d=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,nW=r,nH=!1,nj=t,rx=null;try{let i=t._nodes;n2(e.root,i),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=s,t._dirtyLeaves=a,t._cloneNotNeeded=u,t._dirtyType=d,nW=i,nH=l,nj=o}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return n5(this),this.getEditorState().read(e,{editor:this})}update(e,t){this._updating?this._updates.push([e,t]):n9(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),n7(this,()=>{var r,i;let l=nP(),o=rJ();null!==l?l.dirty||rV(l.clone()):0!==o.getChildrenSize()&&("rootStart"===t.defaultSelection?o.selectStart():o.selectEnd()),r="focus",nY(),nX()._updateTags.add(r),i=()=>{n.removeAttribute("autocapitalize"),e&&e()},nY(),nX()._deferred.push(i)}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){let e=this._rootElement;null!==e&&e.blur();let t=iy(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,n6("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}r_.version="0.39.0+prod.esm";let rx=null,rv=1;function rb(e,t){let n=rC(e,t);return void 0===n&&u(30,t),n}function rC(e,t){return e._nodes.get(t)}let rS="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function rw(e){let t=document.activeElement;if(!i_(t))return!1;let n=t.nodeName;return rl(rj(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==rN(t))}function rE(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!rw(t)&&rk(t)===e}catch(e){return!1}}function rT(e){return e instanceof r_}function rk(e){let t=e;for(;null!=t;){let e=rN(t);if(rT(e))return e;t=io(t)}return null}function rN(e){return e?e.__lexicalEditor:null}function rO(e){return nu(e)||e.isToken()}function rA(e){return rO(e)||e.isSegmented()}function rM(e){return ix(e)&&3===e.nodeType}function rP(e){return ix(e)&&9===e.nodeType}function rD(e){let t=e;for(;null!=t;){if(rM(t))return t;t=t.firstChild}return null}function rL(e,t,n){let r=k[t];if(null!==n&&(e&r)==(n&r))return e;let i=e^r;return"subscript"===t?i&=~k.superscript:"superscript"===t?i&=~k.subscript:"lowercase"===t?(i&=~k.uppercase,i&=~k.capitalize):"uppercase"===t?(i&=~k.lowercase,i&=~k.capitalize):"capitalize"===t&&(i&=~k.lowercase,i&=~k.uppercase),i}function rR(e){let t=e.getParent();if(null!==t){let n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),l=e.getNextSibling(),o=null!==l?l.__key:null,s=null!==i?i.__key:null,a=null!==i?i.getWritable():null,u=null!==l?l.getWritable():null;null===i&&(r.__first=o),null===l&&(r.__last=s),null!==a&&(a.__next=o),null!==u&&(u.__prev=s),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function rF(e){nq(),tU(e)&&u(323,e.__key,e.__type);let t=e.getLatest(),n=t.__parent,r=nG(),i=nX(),l=r._nodeMap,o=i._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;let e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,l,o);let s=t.__key;i._dirtyType=1,rn(e)?o.set(s,!0):i._dirtyLeaves.add(s)}function rI(e){nY();let t=nX(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){let e=rB(n);null!==e&&e.getWritable()}if(null!==e){let t=rB(e);null!==t&&t.getWritable()}}}function rz(){return nV()?null:nX()._compositionKey}function rB(e,t){let n=(t||nG())._nodeMap.get(e);return void 0===n?null:n}function rK(e,t){let n=rW(e,nX());return void 0!==n?rB(n,t):null}function rW(e,t){return e[`__lexicalKey_${t._key}`]}function rj(e,t){let n=e;for(;null!=n;){let e=rK(n,t);if(null!==e)return e;n=io(n)}return null}function rH(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t,t}function r$(e){return e.read(()=>rJ().getTextContent())}function rJ(){return rU(nG())}function rU(e){return e._nodeMap.get("root")}function rV(e){nY();let t=nG();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function rY(e){let t=nX(),n=function(e,t){let n=e;for(;null!=n;){let e=rW(n,t);if(void 0!==e)return e;n=io(n)}return null}(e,t);return null===n?e===t.getRootElement()?rB("root"):null:rB(n)}function rq(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function rG(e){let t=[],n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function rX(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function rZ(e){return rM(e)?e.nodeValue:null}function rQ(e,t,n){let r=iy(id(t));if(null===r)return;let i=r.anchorNode,{anchorOffset:l,focusOffset:o}=r;if(null!==i){let t=rZ(i),r=rj(i);if(null!==t&&nl(r)){if(t===S&&n){let e=n.length;t=n,l=e,o=e}null!==t&&r0(r,t,l,o,e)}}}function r0(e,t,n,r,i){let l=e;if(l.isAttached()&&(i||!l.isDirty())){let o=l.isComposing(),s=t;(o||i)&&t[t.length-1]===S&&(s=t.slice(0,-1));let a=l.getTextContent();if(i||s!==a){if(""===s){if(rI(null),m||y||b)l.remove();else{let e=nX();setTimeout(()=>{e.update(()=>{l.isAttached()&&l.remove()})},20)}return}let t=l.getParent(),i=nD(),a=l.getTextContentSize(),u=rz(),d=l.getKey();if(l.isToken()||null!==u&&d===u&&!o||np(i)&&(null!==t&&!t.canInsertTextBefore()&&0===i.anchor.offset||i.anchor.key===e.__key&&0===i.anchor.offset&&!l.canInsertTextBefore()&&!o||i.focus.key===e.__key&&i.focus.offset===a&&!l.canInsertTextAfter()&&!o))return void l.markDirty();let f=nP();if(!np(f)||null===n||null===r)return void r1(l,s,f);if(f.setTextNodeRange(l,n,l,r),l.isSegmented()){let e=ni(l.getTextContent());l.replace(e),l=e}r1(l,s,f)}}}function r1(e,t,n){if(e.setTextContent(t),np(n)){let t=e.getKey();for(let r of["anchor","focus"]){let i=n[r];"text"===i.type&&i.key===t&&(i.offset=iV(e,i.offset,"clamp"))}}}function r2(e,t,n){let r=t[n]||!1;return"any"===r||r===e[n]}function r3(e,t,n){return r2(e,n,"altKey")&&r2(e,n,"ctrlKey")&&r2(e,n,"shiftKey")&&r2(e,n,"metaKey")&&e.key.toLowerCase()===t.toLowerCase()}let r5={ctrlKey:!h,metaKey:h},r6={altKey:h,ctrlKey:!h};function r4(e){return"Backspace"===e.key}function r9(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});let n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;let i=e[t];if("string"==typeof i){let e=C(i);return n[t]=e,e}return i}function r7(e,t,n,r,i){if(0===n.size)return;let l=r.__type,o=r.__key,s=t.get(l);void 0===s&&u(33,l);let a=s.klass,d=e.get(a);void 0===d&&(d=new Map,e.set(a,d));let f=d.get(o),c="destroyed"===f&&"created"===i;(void 0===f||c)&&d.set(o,c?"updated":i)}function r8(e,t,n){let r=e.getParent(),i=n,l=e;return null!==r&&(t&&0===n?(i=l.getIndexWithinParent(),l=r):t||n!==l.getChildrenSize()||(i=l.getIndexWithinParent()+1,l=r)),l.getChildAtIndex(t?i-1:i)}function ie(e,t){let n=e.offset;if("element"===e.type)return r8(e.getNode(),t,n);{let r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){let e=t?r.getPreviousSibling():r.getNextSibling();return null===e?r8(r.getParentOrThrow(),t,r.getIndexWithinParent()+ +!t):e}}return null}function it(e){let t=id(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function ir(e,t,n){return function(e,t,n){let r=rG(e);for(let i=4;i>=0;i--)for(let l=0;l<r.length;l++){let o=r[l],s=o._commands.get(t);if(void 0!==s){let t=s[i];if(void 0!==t){let r=Array.from(t),i=r.length,l=!1;if(n7(o,()=>{for(let t=0;t<i;t++)if(r[t](n,e))return void(l=!0)}),l)return l}}}return!1}(e,t,n)}function ii(e){return!rs(e)&&!e.isLastChild()&&!e.isInline()}function il(e,t){let n=e._keyToDOMMap.get(t);return void 0===n&&u(75,t),n}function io(e){let t=e.assignedSlot||e.parentElement;return iv(t)?t.host:t}function is(e){return rP(e)?e:i_(e)?e.ownerDocument:null}function ia(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function iu(e){let t=is(e);return t?t.defaultView:null}function id(e){let t=e._window;return null===t&&u(78),t}function ic(e){return rs(e)||rn(e)&&e.isShadowRoot()}function ih(e){let t=nX(),n=e.getType(),r=rC(t,n);void 0===r&&u(200,e.constructor.name,n);let{replace:i,replaceWithKlass:l}=r;if(null!==i){let t=i(e),r=t.constructor;return null!==l?t instanceof l||u(201,l.name,l.getType(),r.name,r.getType(),e.constructor.name,n):t instanceof e.constructor&&r!==e.constructor||u(202,r.name,r.getType(),e.constructor.name,n),t.__key===e.__key&&u(203,e.constructor.name,n,r.name,r.getType()),t}return e}function ig(e,t){!rs(e.getParent())||rn(t)||rl(t)||u(99)}function ip(e){return(rl(e)||rn(e)&&!e.canBeEmpty())&&!e.isInline()}function im(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;let r=e.parentElement;null!==r&&r.removeChild(e)}function iy(e){return f?(e||window).getSelection():null}function i_(e){return ix(e)&&1===e.nodeType}function ix(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function iv(e){return ix(e)&&11===e.nodeType}function ib(e){let t=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function iC(e){let t=RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function iS(e){if(rl(e)&&!e.isInline())return!0;if(!rn(e)||ic(e))return!1;let t=e.getFirstChild(),n=null===t||tZ(t)||nl(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}let iw=new WeakMap,iE=new Map;function iT(e){if(!e._readOnly&&e.isEmpty())return iE;e._readOnly||u(192);let t=iw.get(e);return t||(t=function(e){let t=new Map;for(let[n,r]of e._nodeMap){let e=r.__type,i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}return t}(e),iw.set(e,t)),t}function ik(e){let t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function iN(e,t){let n=Math.round((parseInt(e.style.paddingInlineStart,10)||0)/40);t.setIndent(n)}function iO(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==tV[t]}function iA(e){let t=D in e.prototype?e.prototype[D]():void 0,n=function(e){if(!(e===tV||e.prototype instanceof tV)){let t="<unknown>",n="<unknown>";try{t=e.getType()}catch(e){}try{r_.version&&(n=JSON.parse(r_.version))}catch(e){}u(290,e.name,t,n)}return e===ri||e===rt||e===tV}(e),r=!n&&iO(e,"getType")?e.getType():void 0,i,l=r;if(t)if(r)i=t[r];else for(let[e,n]of Object.entries(t))l=e,i=n;if(!n&&l&&(iO(e,"getType")||(e.getType=()=>l),iO(e,"clone")||(e.clone=t=>(rx=t,new e)),iO(e,"importJSON")||(e.importJSON=i&&i.$importJSON||(t=>(new e).updateFromJSON(t))),!iO(e,"importDOM")&&i)){let{importDOM:t}=i;t&&(e.importDOM=()=>t)}return{ownNodeConfig:i,ownNodeType:l}}let iM=(e,t)=>{let n=e;for(;null!=n&&!rs(n);){if(t(n))return n;n=n.getParent()}return null},iP={next:"previous",previous:"next"};class iD{origin;constructor(e){this.origin=e}[Symbol.iterator](){return i0({hasNext:iK,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return iJ(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return iJ(this.origin,this.direction)}remove(){let e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){let n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(null===n?this.insert(e):n.replace(e,t)),this}splice(e,t,n="next"){let r=n===this.direction?t:Array.from(t).reverse(),i=this,l=this.getParentAtCaret(),o=new Map;for(let t=i.getAdjacentCaret();null!==t&&o.size<e;t=t.getAdjacentCaret()){let e=t.origin.getWritable();o.set(e.getKey(),e)}for(let e of r){if(o.size>0){let t=i.getNodeAtCaret();if(t)if(o.delete(t.getKey()),o.delete(e.getKey()),t.is(e)||i.origin.is(e));else{let n=e.getParent();n&&n.is(l)&&e.remove(),t.replace(e)}else null===t&&u(263,Array.from(o).join(" "))}else i.insert(e);i=iJ(e,this.direction)}for(let e of o.values())e.remove();return this}}class iL extends iD{type="child";getLatest(){let e=this.origin.getLatest();return e===this.origin?this:iY(e,this.direction)}getParentCaret(e="root"){return iJ(iF(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=iP[this.direction];return iJ(this.getNodeAtCaret(),e)||iY(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof iL&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}let iR={root:rs,shadowRoot:ic};function iF(e,t="root"){return iR[t](e)?null:e}class iI extends iD{type="sibling";getLatest(){let e=this.origin.getLatest();return e===this.origin?this:iJ(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return rn(this.origin)?iY(this.origin,this.direction):null}getParentCaret(e="root"){return iJ(iF(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=iP[this.direction];return iJ(this.getNodeAtCaret(),e)||iY(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof iI&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof iI||e instanceof iz)&&this.direction===e.direction&&this.origin.is(e.origin)}}class iz extends iD{type="text";offset;constructor(e,t){super(e),this.offset=t}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:iU(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return iJ(iF(this.getParentAtCaret(),e),this.direction)}getFlipped(){return iU(this.origin,iP[this.direction],this.offset)}isSamePointCaret(e){return e instanceof iz&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof iI||e instanceof iz)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return iJ(this.origin,this.direction)}}function iB(e){return e instanceof iz}function iK(e){return e instanceof iI}function iW(e){return e instanceof iL}let ij={next:class extends iz{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends iz{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},iH={next:class extends iI{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends iI{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},i$={next:class extends iL{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends iL{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function iJ(e,t){return e?new iH[t](e):null}function iU(e,t,n){return e?new ij[t](e,iV(e,n)):null}function iV(e,t,n="error"){let r=e.getTextContentSize(),i="next"===t?r:"previous"===t?0:t;return(i<0||i>r)&&("clamp"!==n&&d(284,String(t),String(r),e.getKey()),i=i<0?0:r),i}function iY(e,t){return rn(e)?new i$[t](e):null}function iq(e){var t;return e&&((t=e.getAdjacentCaret())&&t.getChildCaret()||t)}class iG{type="node-caret-range";direction;anchor;focus;constructor(e,t,n){this.anchor=e,this.focus=t,this.direction=n}getLatest(){let e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new iG(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let e=e=>{let t=this[e].getLatest();return iB(t)?function(e,t){let{direction:n,origin:r}=e;return new iX(e,iV(r,"focus"===t?iP[n]:n)-e.offset)}(t,e):null},t=e("anchor"),n=e("focus");if(t&&n){let{caret:e}=t,{caret:r}=n;if(e.isSameNodeCaret(r))return[new iX(e,r.offset-e.offset),null]}return[t,n]}iterNodeCarets(e="root"){let t=iB(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=iB(n),i=t=>t.isSameNodeCaret(n)?null:iq(t)||t.getParentCaret(e);return i0({hasNext:e=>null!==e&&!(r&&n.isSameNodeCaret(e)),initial:t.isSameNodeCaret(n)?null:i(t),map:e=>e,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class iX{type="slice";caret;distance;constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){let{distance:e,caret:{offset:t}}=this,n=t+e;return n<t?[n,t]:[t,n]}getTextContent(){let[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:e,direction:t}}=this,[n,r]=this.getSliceIndices(),i=e.getTextContent();return iU(e.setTextContent(i.slice(0,n)+i.slice(r)),t,n)}}function iZ(e){return iQ(e,iJ(rJ(),e.direction))}function iQ(e,t){return e.direction!==t.direction&&u(265),new iG(e,t,e.direction)}function i0(e){let{initial:t,hasNext:n,step:r,map:i}=e,l=t;return{[Symbol.iterator](){return this},next(){if(!n(l))return{done:!0,value:void 0};let e={done:!1,value:i(l)};return l=r(l),e}}}function i1(e,t){let n=i5(e.origin,t.origin);switch(null===n&&u(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{let n="text"===e.type,r="text"===t.type;return n&&r?Math.sign(e.offset-t.offset):e.type===t.type?0:n?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return i2(n)}}function i2(e){let{a:t,b:n}=e,r=t.__key,i=n.__key,l=t,o=n;for(;l&&o;l=l.getNextSibling(),o=o.getNextSibling()){if(l.__key===i)return -1;if(o.__key===r)return 1}return null===l?1:-1}function i3(e){return rn(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function i5(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};let n=new Map;for(let[t,r]=i3(e);t;r=t,t=t.getParent())n.set(t,r);for(let[r,i]=i3(t);r;i=r,r=r.getParent()){let l=n.get(r);if(void 0!==l)return null===l?(r.is(e)||u(276),{commonAncestor:r,type:"ancestor"}):null===i?(r.is(t)||u(277),{commonAncestor:r,type:"descendant"}):((rn(l)||l.is(e))&&(rn(i)||i.is(t))&&r.is(l.getParent())&&r.is(i.getParent())||u(278),{a:l,b:i,commonAncestor:r,type:"branch"})}return null}function i6(e,t){var n;let r,{type:i,key:l,offset:o}=e,s=(null===(r=rB(n=e.key))&&u(63,n),r);return"text"===i?(nl(s)||u(266,s.getType(),l),iU(s,t,o)):(rn(s)||u(267,s.getType(),l),function(e,t,n){let r=iY(e,"next");for(let e=0;e<t;e++){let e=r.getAdjacentCaret();if(null===e)break;r=e}return li(r,n)}(s,e.offset,t))}function i4(e,t){let{origin:n,direction:r}=t,i="next"===r;iB(t)?e.set(n.getKey(),t.offset,"text"):iK(t)?nl(n)?e.set(n.getKey(),iV(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+ +!!i,"element"):(iW(t)&&rn(n)||u(268),e.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function i9(e,t){i4(e.anchor,t.anchor),i4(e.focus,t.focus)}function i7(e){let{anchor:t,focus:n}=e,r=i6(t,"next"),i=i6(n,"next"),l=0>=i1(r,i)?"next":"previous";return iQ(li(r,l),li(i,l))}function i8(e){let{direction:t,origin:n}=e,r=iJ(n,iP[t]).getNodeAtCaret();return r?iJ(r,t):iY(n.getParentOrThrow(),t)}function le(e,t="root"){let n=[e];for(let r=iW(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))n.push(i8(r));return n}function lt(e){return!!e&&e.origin.isAttached()}function ln(e){let t=function(e){let t=e;for(;iW(t);){let e=iq(t);if(!iW(e))break;t=e}return t}(e.getLatest()),{direction:n}=t;if(nl(t.origin))return iB(t)?t:iU(t.origin,n,n);let r=t.getAdjacentCaret();return iK(r)&&nl(r.origin)?iU(r.origin,n,iP[n]):t}function lr(e){return iB(e)&&e.offset!==iV(e.origin,e.direction)}function li(e,t){return e.direction===t?e:e.getFlipped()}function ll(e,t){return e.direction===t?e:iQ(li(e.focus,t),li(e.anchor,t))}function lo(e,t){if(!t||e===t)return e;for(let n in t)if(e[n]!==t[n])return{...e,...t};return e}let ls="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,la=ls?o.useLayoutEffect:o.useEffect,lu={tag:tY};function ld({initialConfig:e,children:t}){let n=(0,o.useMemo)(()=>{let{theme:t,namespace:n,nodes:r,onError:i,editorState:l,html:o}=e,s={getTheme:function(){return null!=t?t:null}},a=ry({editable:e.editable,html:o,namespace:n,nodes:r,onError:e=>i(e,a),theme:t});return function(e,t){if(null!==t){if(void 0===t)e.update(()=>{let t=rJ();if(t.isEmpty()){let n=rg();t.append(n);let r=ls?document.activeElement:null;(null!==nP()||null!==r&&r===e.getRootElement())&&n.select()}},lu);else if(null!==t)switch(typeof t){case"string":{let n=e.parseEditorState(t);e.setEditorState(n,lu);break}case"object":e.setEditorState(t,lu);break;case"function":e.update(()=>{rJ().isEmpty()&&t(e)},lu)}}}(a,l),[a,s]},[]);return la(()=>{let t=e.editable,[r]=n;r.setEditable(void 0===t||t)},[]),(0,l.jsx)(s.Provider,{value:n,children:t})}let lf="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function lc({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:n}){let[r]=a();return lf(()=>{if(n)return r.registerUpdateListener(({editorState:i,dirtyElements:l,dirtyLeaves:o,prevEditorState:s,tags:a})=>{t&&0===l.size&&0===o.size||e&&a.has(tY)||s.isEmpty()||n(i,r,a)})},[r,e,t,n]),null}var lh=e.i(62140),lg=e.i(18853),lp=e.i(41210),lm=e.i(53407),ly=e.i(86143),l_="dismissableLayer.update",lx=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lv=o.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...f}=e,c=o.useContext(lx),[h,g]=o.useState(null),p=h?.ownerDocument??globalThis?.document,[,m]=o.useState({}),y=(0,lg.useComposedRefs)(t,e=>g(e)),_=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(x),b=h?_.indexOf(h):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,w=function(e,t=globalThis?.document){let n=(0,ly.useCallbackRef)(e),r=o.useRef(!1),i=o.useRef(()=>{});return o.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){lC("dismissableLayer.pointerDownOutside",n,l,{discrete:!0})},l={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{let t=e.target,n=[...c.branches].some(e=>e.contains(t));S&&!n&&(s?.(e),u?.(e),e.defaultPrevented||d?.())},p),E=function(e,t=globalThis?.document){let n=(0,ly.useCallbackRef)(e),r=o.useRef(!1);return o.useEffect(()=>{let e=e=>{e.target&&!r.current&&lC("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{let t=e.target;![...c.branches].some(e=>e.contains(t))&&(a?.(e),u?.(e),e.defaultPrevented||d?.())},p);return!function(e,t=globalThis?.document){let n=(0,ly.useCallbackRef)(e);o.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{b===c.layers.size-1&&(r?.(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},p),o.useEffect(()=>{if(h)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(i=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),lb(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=i)}},[h,p,n,c]),o.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),lb())},[h,c]),o.useEffect(()=>{let e=()=>m({});return document.addEventListener(l_,e),()=>document.removeEventListener(l_,e)},[]),(0,l.jsx)(lm.Primitive.div,{...f,ref:y,style:{pointerEvents:C?S?"auto":"none":void 0,...e.style},onFocusCapture:(0,lh.composeEventHandlers)(e.onFocusCapture,E.onFocusCapture),onBlurCapture:(0,lh.composeEventHandlers)(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:(0,lh.composeEventHandlers)(e.onPointerDownCapture,w.onPointerDownCapture)})});function lb(){let e=new CustomEvent(l_);document.dispatchEvent(e)}function lC(e,t,n,{discrete:r}){let i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?(0,lm.dispatchDiscreteCustomEvent)(i,l):i.dispatchEvent(l)}lv.displayName="DismissableLayer",o.forwardRef((e,t)=>{let n=o.useContext(lx),r=o.useRef(null),i=(0,lg.useComposedRefs)(t,r);return o.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,l.jsx)(lm.Primitive.div,{...e,ref:i})}).displayName="DismissableLayerBranch",e.i(59318);let lS=["top","right","bottom","left"],lw=Math.min,lE=Math.max,lT=Math.round,lk=Math.floor,lN=e=>({x:e,y:e}),lO={left:"right",right:"left",bottom:"top",top:"bottom"},lA={start:"end",end:"start"};function lM(e,t){return"function"==typeof e?e(t):e}function lP(e){return e.split("-")[0]}function lD(e){return e.split("-")[1]}function lL(e){return"x"===e?"y":"x"}function lR(e){return"y"===e?"height":"width"}let lF=new Set(["top","bottom"]);function lI(e){return lF.has(lP(e))?"y":"x"}function lz(e){return e.replace(/start|end/g,e=>lA[e])}let lB=["left","right"],lK=["right","left"],lW=["top","bottom"],lj=["bottom","top"];function lH(e){return e.replace(/left|right|bottom|top/g,e=>lO[e])}function l$(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function lJ(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function lU(e,t,n){let r,{reference:i,floating:l}=e,o=lI(t),s=lL(lI(t)),a=lR(s),u=lP(t),d="y"===o,f=i.x+i.width/2-l.width/2,c=i.y+i.height/2-l.height/2,h=i[a]/2-l[a]/2;switch(u){case"top":r={x:f,y:i.y-l.height};break;case"bottom":r={x:f,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:c};break;case"left":r={x:i.x-l.width,y:c};break;default:r={x:i.x,y:i.y}}switch(lD(t)){case"start":r[s]-=h*(n&&d?-1:1);break;case"end":r[s]+=h*(n&&d?-1:1)}return r}let lV=async(e,t,n)=>{let{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:o}=n,s=l.filter(Boolean),a=await (null==o.isRTL?void 0:o.isRTL(t)),u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=lU(u,r,a),c=r,h={},g=0;for(let n=0;n<s.length;n++){let{name:l,fn:p}=s[n],{x:m,y:y,data:_,reset:x}=await p({x:d,y:f,initialPlacement:r,placement:c,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=null!=m?m:d,f=null!=y?y:f,h={...h,[l]:{...h[l],..._}},x&&g<=50&&(g++,"object"==typeof x&&(x.placement&&(c=x.placement),x.rects&&(u=!0===x.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:d,y:f}=lU(u,c,a)),n=-1)}return{x:d,y:f,placement:c,strategy:i,middlewareData:h}};async function lY(e,t){var n;void 0===t&&(t={});let{x:r,y:i,platform:l,rects:o,elements:s,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:c=!1,padding:h=0}=lM(t,e),g=l$(h),p=s[c?"floating"===f?"reference":"floating":f],m=lJ(await l.getClippingRect({element:null==(n=await (null==l.isElement?void 0:l.isElement(p)))||n?p:p.contextElement||await (null==l.getDocumentElement?void 0:l.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:a})),y="floating"===f?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await (null==l.getOffsetParent?void 0:l.getOffsetParent(s.floating)),x=await (null==l.isElement?void 0:l.isElement(_))&&await (null==l.getScale?void 0:l.getScale(_))||{x:1,y:1},v=lJ(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:_,strategy:a}):y);return{top:(m.top-v.top+g.top)/x.y,bottom:(v.bottom-m.bottom+g.bottom)/x.y,left:(m.left-v.left+g.left)/x.x,right:(v.right-m.right+g.right)/x.x}}function lq(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lG(e){return lS.some(t=>e[t]>=0)}let lX=new Set(["left","top"]);async function lZ(e,t){let{placement:n,platform:r,elements:i}=e,l=await (null==r.isRTL?void 0:r.isRTL(i.floating)),o=lP(n),s=lD(n),a="y"===lI(n),u=lX.has(o)?-1:1,d=l&&a?-1:1,f=lM(t,e),{mainAxis:c,crossAxis:h,alignmentAxis:g}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&"number"==typeof g&&(h="end"===s?-1*g:g),a?{x:h*d,y:c*u}:{x:c*u,y:h*d}}function lQ(){return"undefined"!=typeof window}function l0(e){return l3(e)?(e.nodeName||"").toLowerCase():"#document"}function l1(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function l2(e){var t;return null==(t=(l3(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function l3(e){return!!lQ()&&(e instanceof Node||e instanceof l1(e).Node)}function l5(e){return!!lQ()&&(e instanceof Element||e instanceof l1(e).Element)}function l6(e){return!!lQ()&&(e instanceof HTMLElement||e instanceof l1(e).HTMLElement)}function l4(e){return!!lQ()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof l1(e).ShadowRoot)}let l9=new Set(["inline","contents"]);function l7(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=ou(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!l9.has(i)}let l8=new Set(["table","td","th"]),oe=[":popover-open",":modal"];function ot(e){return oe.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let on=["transform","translate","scale","rotate","perspective"],or=["transform","translate","scale","rotate","perspective","filter"],oi=["paint","layout","strict","content"];function ol(e){let t=oo(),n=l5(e)?ou(e):e;return on.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||or.some(e=>(n.willChange||"").includes(e))||oi.some(e=>(n.contain||"").includes(e))}function oo(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let os=new Set(["html","body","#document"]);function oa(e){return os.has(l0(e))}function ou(e){return l1(e).getComputedStyle(e)}function od(e){return l5(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function of(e){if("html"===l0(e))return e;let t=e.assignedSlot||e.parentNode||l4(e)&&e.host||l2(e);return l4(t)?t.host:t}function oc(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let i=function e(t){let n=of(t);return oa(n)?t.ownerDocument?t.ownerDocument.body:t.body:l6(n)&&l7(n)?n:e(n)}(e),l=i===(null==(r=e.ownerDocument)?void 0:r.body),o=l1(i);if(l){let e=oh(o);return t.concat(o,o.visualViewport||[],l7(i)?i:[],e&&n?oc(e):[])}return t.concat(i,oc(i,[],n))}function oh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function og(e){let t=ou(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=l6(e),l=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=lT(n)!==l||lT(r)!==o;return s&&(n=l,r=o),{width:n,height:r,$:s}}function op(e){return l5(e)?e:e.contextElement}function om(e){let t=op(e);if(!l6(t))return lN(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:l}=og(t),o=(l?lT(n.width):n.width)/r,s=(l?lT(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}let oy=lN(0);function o_(e){let t=l1(e);return oo()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:oy}function ox(e,t,n,r){var i;void 0===t&&(t=!1),void 0===n&&(n=!1);let l=e.getBoundingClientRect(),o=op(e),s=lN(1);t&&(r?l5(r)&&(s=om(r)):s=om(e));let a=(void 0===(i=n)&&(i=!1),r&&(!i||r===l1(o))&&i)?o_(o):lN(0),u=(l.left+a.x)/s.x,d=(l.top+a.y)/s.y,f=l.width/s.x,c=l.height/s.y;if(o){let e=l1(o),t=r&&l5(r)?l1(r):r,n=e,i=oh(n);for(;i&&r&&t!==n;){let e=om(i),t=i.getBoundingClientRect(),r=ou(i),l=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;u*=e.x,d*=e.y,f*=e.x,c*=e.y,u+=l,d+=o,i=oh(n=l1(i))}}return lJ({width:f,height:c,x:u,y:d})}function ov(e,t){let n=od(e).scrollLeft;return t?t.left+n:ox(l2(e)).left+n}function ob(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-ov(e,n),y:n.top+t.scrollTop}}let oC=new Set(["absolute","fixed"]);function oS(e,t,n){var r;let i;if("viewport"===t)i=function(e,t){let n=l1(e),r=l2(e),i=n.visualViewport,l=r.clientWidth,o=r.clientHeight,s=0,a=0;if(i){l=i.width,o=i.height;let e=oo();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,a=i.offsetTop)}let u=ov(r);if(u<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=25&&(l-=o)}else u<=25&&(l+=u);return{width:l,height:o,x:s,y:a}}(e,n);else if("document"===t){let t,n,l,o,s,a,u;r=l2(e),t=l2(r),n=od(r),l=r.ownerDocument.body,o=lE(t.scrollWidth,t.clientWidth,l.scrollWidth,l.clientWidth),s=lE(t.scrollHeight,t.clientHeight,l.scrollHeight,l.clientHeight),a=-n.scrollLeft+ov(r),u=-n.scrollTop,"rtl"===ou(l).direction&&(a+=lE(t.clientWidth,l.clientWidth)-o),i={width:o,height:s,x:a,y:u}}else if(l5(t)){let e,r,l,o,s,a;r=(e=ox(t,!0,"fixed"===n)).top+t.clientTop,l=e.left+t.clientLeft,o=l6(t)?om(t):lN(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,i={width:s,height:a,x:l*o.x,y:r*o.y}}else{let n=o_(e);i={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return lJ(i)}function ow(e){return"static"===ou(e).position}function oE(e,t){if(!l6(e)||"fixed"===ou(e).position)return null;if(t)return t(e);let n=e.offsetParent;return l2(e)===n&&(n=n.ownerDocument.body),n}function oT(e,t){var n;let r=l1(e);if(ot(e))return r;if(!l6(e)){let t=of(e);for(;t&&!oa(t);){if(l5(t)&&!ow(t))return t;t=of(t)}return r}let i=oE(e,t);for(;i&&(n=i,l8.has(l0(n)))&&ow(i);)i=oE(i,t);return i&&oa(i)&&ow(i)&&!ol(i)?r:i||function(e){let t=of(e);for(;l6(t)&&!oa(t);){if(ol(t))return t;if(ot(t))break;t=of(t)}return null}(e)||r}let ok=async function(e){let t=this.getOffsetParent||oT,n=this.getDimensions,r=await n(e.floating);return{reference:function(e,t,n){let r=l6(t),i=l2(t),l="fixed"===n,o=ox(e,!0,l,t),s={scrollLeft:0,scrollTop:0},a=lN(0);if(r||!r&&!l)if(("body"!==l0(t)||l7(i))&&(s=od(t)),r){let e=ox(t,!0,l,t);a.x=e.x+t.clientLeft,a.y=e.y+t.clientTop}else i&&(a.x=ov(i));l&&!r&&i&&(a.x=ov(i));let u=!i||r||l?lN(0):ob(i,s);return{x:o.left+s.scrollLeft-a.x-u.x,y:o.top+s.scrollTop-a.y-u.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},oN={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,l="fixed"===i,o=l2(r),s=!!t&&ot(t.floating);if(r===o||s&&l)return n;let a={scrollLeft:0,scrollTop:0},u=lN(1),d=lN(0),f=l6(r);if((f||!f&&!l)&&(("body"!==l0(r)||l7(o))&&(a=od(r)),l6(r))){let e=ox(r);u=om(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}let c=!o||f||l?lN(0):ob(o,a);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+d.x+c.x,y:n.y*u.y-a.scrollTop*u.y+d.y+c.y}},getDocumentElement:l2,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,l=[..."clippingAncestors"===n?ot(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let r=oc(e,[],!1).filter(e=>l5(e)&&"body"!==l0(e)),i=null,l="fixed"===ou(e).position,o=l?of(e):e;for(;l5(o)&&!oa(o);){let t=ou(o),n=ol(o);n||"fixed"!==t.position||(i=null),(l?!n&&!i:!n&&"static"===t.position&&!!i&&oC.has(i.position)||l7(o)&&!n&&function e(t,n){let r=of(t);return!(r===n||!l5(r)||oa(r))&&("fixed"===ou(r).position||e(r,n))}(e,o))?r=r.filter(e=>e!==o):i=t,o=of(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=l[0],s=l.reduce((e,n)=>{let r=oS(t,n,i);return e.top=lE(r.top,e.top),e.right=lw(r.right,e.right),e.bottom=lw(r.bottom,e.bottom),e.left=lE(r.left,e.left),e},oS(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:oT,getElementRects:ok,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=og(e);return{width:t,height:n}},getScale:om,isElement:l5,isRTL:function(e){return"rtl"===ou(e).direction}};function oO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let oA=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:r,placement:i,rects:l,platform:o,elements:s,middlewareData:a}=t,{element:u,padding:d=0}=lM(e,t)||{};if(null==u)return{};let f=l$(d),c={x:n,y:r},h=lL(lI(i)),g=lR(h),p=await o.getDimensions(u),m="y"===h,y=m?"clientHeight":"clientWidth",_=l.reference[g]+l.reference[h]-c[h]-l.floating[g],x=c[h]-l.reference[h],v=await (null==o.getOffsetParent?void 0:o.getOffsetParent(u)),b=v?v[y]:0;b&&await (null==o.isElement?void 0:o.isElement(v))||(b=s.floating[y]||l.floating[g]);let C=b/2-p[g]/2-1,S=lw(f[m?"top":"left"],C),w=lw(f[m?"bottom":"right"],C),E=b-p[g]-w,T=b/2-p[g]/2+(_/2-x/2),k=lE(S,lw(T,E)),N=!a.arrow&&null!=lD(i)&&T!==k&&l.reference[g]/2-(T<S?S:w)-p[g]/2<0,O=N?T<S?T-S:T-E:0;return{[h]:c[h]+O,data:{[h]:k,centerOffset:T-k-O,...N&&{alignmentOffset:O}},reset:N}}});var oM=e.i(96300),oP="undefined"!=typeof document?o.useLayoutEffect:function(){};function oD(e,t){let n,r,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!oD(e[r],t[r]))return!1;return!0}if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!({}).hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){let n=i[r];if(("_owner"!==n||!e.$$typeof)&&!oD(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function oL(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oR(e,t){let n=oL(e);return Math.round(t*n)/n}function oF(e){let t=o.useRef(e);return oP(()=>{t.current=e}),t}var oI=o.forwardRef((e,t)=>{let{children:n,width:r=10,height:i=5,...o}=e;return(0,l.jsx)(lm.Primitive.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,l.jsx)("polygon",{points:"0,0 30,0 15,10"})})});oI.displayName="Arrow";var oz=e.i(15121),oB="Popper",[oK,oW]=(0,lp.createContextScope)(oB),[oj,oH]=oK(oB),o$="PopperAnchor",oJ=o.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...i}=e,s=oH(o$,n),a=o.useRef(null),u=(0,lg.useComposedRefs)(t,a),d=o.useRef(null);return o.useEffect(()=>{let e=d.current;d.current=r?.current||a.current,e!==d.current&&s.onAnchorChange(d.current)}),r?null:(0,l.jsx)(lm.Primitive.div,{...i,ref:u})});oJ.displayName=o$;var oU="PopperContent",[oV,oY]=oK(oU),oq=o.forwardRef((e,t)=>{var n,r,i,s,a,u,d,f,c,h,g,p,m;let{__scopePopper:y,side:_="bottom",sideOffset:x=0,align:v="center",alignOffset:b=0,arrowPadding:C=0,avoidCollisions:S=!0,collisionBoundary:w=[],collisionPadding:E=0,sticky:T="partial",hideWhenDetached:k=!1,updatePositionStrategy:N="optimized",onPlaced:O,...A}=e,M=oH(oU,y),[P,D]=o.useState(null),L=(0,lg.useComposedRefs)(t,e=>D(e)),[R,F]=o.useState(null),I=function(e){let[t,n]=o.useState(void 0);return(0,oz.useLayoutEffect)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let l=t[0];if("borderBoxSize"in l){let e=l.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(R),z=I?.width??0,B=I?.height??0,K="number"==typeof E?E:{top:0,right:0,bottom:0,left:0,...E},W=Array.isArray(w)?w:[w],j=W.length>0,H={padding:K,boundary:W.filter(oQ),altBoundary:j},{refs:$,floatingStyles:J,placement:U,isPositioned:V,middlewareData:Y}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:s}={},transform:a=!0,whileElementsMounted:u,open:d}=e,[f,c]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=o.useState(r);oD(h,r)||g(r);let[p,m]=o.useState(null),[y,_]=o.useState(null),x=o.useCallback(e=>{e!==S.current&&(S.current=e,m(e))},[]),v=o.useCallback(e=>{e!==w.current&&(w.current=e,_(e))},[]),b=l||p,C=s||y,S=o.useRef(null),w=o.useRef(null),E=o.useRef(f),T=null!=u,k=oF(u),N=oF(i),O=oF(d),A=o.useCallback(()=>{var e,r;let i,l,o;if(!S.current||!w.current)return;let s={placement:t,strategy:n,middleware:h};N.current&&(s.platform=N.current),(e=S.current,r=w.current,i=new Map,o={...(l={platform:oN,...s}).platform,_c:i},lV(e,r,{...l,platform:o})).then(e=>{let t={...e,isPositioned:!1!==O.current};M.current&&!oD(E.current,t)&&(E.current=t,oM.flushSync(()=>{c(t)}))})},[h,t,n,N,O]);oP(()=>{!1===d&&E.current.isPositioned&&(E.current.isPositioned=!1,c(e=>({...e,isPositioned:!1})))},[d]);let M=o.useRef(!1);oP(()=>(M.current=!0,()=>{M.current=!1}),[]),oP(()=>{if(b&&(S.current=b),C&&(w.current=C),b&&C){if(k.current)return k.current(b,C,A);A()}},[b,C,A,k,T]);let P=o.useMemo(()=>({reference:S,floating:w,setReference:x,setFloating:v}),[x,v]),D=o.useMemo(()=>({reference:b,floating:C}),[b,C]),L=o.useMemo(()=>{let e={position:n,left:0,top:0};if(!D.floating)return e;let t=oR(D.floating,f.x),r=oR(D.floating,f.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...oL(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,D.floating,f.x,f.y]);return o.useMemo(()=>({...f,update:A,refs:P,elements:D,floatingStyles:L}),[f,A,P,D,L])}({strategy:"fixed",placement:_+("center"!==v?"-"+v:""),whileElementsMounted:(...e)=>(function(e,t,n,r){let i;void 0===r&&(r={});let{ancestorScroll:l=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:u=!1}=r,d=op(e),f=l||o?[...d?oc(d):[],...oc(t)]:[];f.forEach(e=>{l&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});let c=d&&a?function(e,t){let n,r=null,i=l2(e);function l(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return!function o(s,a){void 0===s&&(s=!1),void 0===a&&(a=1),l();let u=e.getBoundingClientRect(),{left:d,top:f,width:c,height:h}=u;if(s||t(),!c||!h)return;let g={rootMargin:-lk(f)+"px "+-lk(i.clientWidth-(d+c))+"px "+-lk(i.clientHeight-(f+h))+"px "+-lk(d)+"px",threshold:lE(0,lw(1,a))||1},p=!0;function m(t){let r=t[0].intersectionRatio;if(r!==a){if(!p)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||oO(u,e.getBoundingClientRect())||o(),p=!1}try{r=new IntersectionObserver(m,{...g,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(m,g)}r.observe(e)}(!0),l}(d,n):null,h=-1,g=null;s&&(g=new ResizeObserver(e=>{let[r]=e;r&&r.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),n()}),d&&!u&&g.observe(d),g.observe(t));let p=u?ox(e):null;return u&&function t(){let r=ox(e);p&&!oO(p,r)&&n(),p=r,i=requestAnimationFrame(t)}(),n(),()=>{var e;f.forEach(e=>{l&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==c||c(),null==(e=g)||e.disconnect(),g=null,u&&cancelAnimationFrame(i)}})(...e,{animationFrame:"always"===N}),elements:{reference:M.anchor},middleware:[{...{name:"offset",options:r=n={mainAxis:x+B,alignmentAxis:b},async fn(e){var t,n;let{x:i,y:l,placement:o,middlewareData:s}=e,a=await lZ(e,r);return o===(null==(t=s.offset)?void 0:t.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:i+a.x,y:l+a.y,data:{...a,placement:o}}}},options:[n,void 0]},S&&{...{name:"shift",options:a=s={mainAxis:!0,crossAxis:!1,limiter:"partial"===T?{...(i=void 0,{options:i={},fn(e){let{x:t,y:n,placement:r,rects:l,middlewareData:o}=e,{offset:s=0,mainAxis:a=!0,crossAxis:u=!0}=lM(i,e),d={x:t,y:n},f=lI(r),c=lL(f),h=d[c],g=d[f],p=lM(s,e),m="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(a){let e="y"===c?"height":"width",t=l.reference[c]-l.floating[e]+m.mainAxis,n=l.reference[c]+l.reference[e]-m.mainAxis;h<t?h=t:h>n&&(h=n)}if(u){var y,_;let e="y"===c?"width":"height",t=lX.has(lP(r)),n=l.reference[f]-l.floating[e]+(t&&(null==(y=o.offset)?void 0:y[f])||0)+(t?0:m.crossAxis),i=l.reference[f]+l.reference[e]+(t?0:(null==(_=o.offset)?void 0:_[f])||0)-(t?m.crossAxis:0);g<n?g=n:g>i&&(g=i)}return{[c]:h,[f]:g}}}),options:[void 0,void 0]}:void 0,...H},async fn(e){let{x:t,y:n,placement:r}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...s}=lM(a,e),u={x:t,y:n},d=await lY(e,s),f=lI(lP(r)),c=lL(f),h=u[c],g=u[f];if(i){let e="y"===c?"top":"left",t="y"===c?"bottom":"right",n=h+d[e],r=h-d[t];h=lE(n,lw(h,r))}if(l){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",n=g+d[e],r=g-d[t];g=lE(n,lw(g,r))}let p=o.fn({...e,[c]:h,[f]:g});return{...p,data:{x:p.x-t,y:p.y-n,enabled:{[c]:i,[f]:l}}}}},options:[s,void 0]},S&&{...{name:"flip",options:d=u={...H},async fn(e){var t,n,r,i,l,o,s,a;let u,f,c,{placement:h,middlewareData:g,rects:p,initialPlacement:m,platform:y,elements:_}=e,{mainAxis:x=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...E}=lM(d,e);if(null!=(t=g.arrow)&&t.alignmentOffset)return{};let T=lP(h),k=lI(m),N=lP(m)===m,O=await (null==y.isRTL?void 0:y.isRTL(_.floating)),A=b||(N||!w?[lH(m)]:(u=lH(m),[lz(m),u,lz(u)])),M="none"!==S;!b&&M&&A.push(...(f=lD(m),c=function(e,t,n){switch(e){case"top":case"bottom":if(n)return t?lK:lB;return t?lB:lK;case"left":case"right":return t?lW:lj;default:return[]}}(lP(m),"start"===S,O),f&&(c=c.map(e=>e+"-"+f),w&&(c=c.concat(c.map(lz)))),c));let P=[m,...A],D=await lY(e,E),L=[],R=(null==(n=g.flip)?void 0:n.overflows)||[];if(x&&L.push(D[T]),v){let e,t,n,r,i=(o=h,s=p,void 0===(a=O)&&(a=!1),e=lD(o),n=lR(t=lL(lI(o))),r="x"===t?e===(a?"end":"start")?"right":"left":"start"===e?"bottom":"top",s.reference[n]>s.floating[n]&&(r=lH(r)),[r,lH(r)]);L.push(D[i[0]],D[i[1]])}if(R=[...R,{placement:h,overflows:L}],!L.every(e=>e<=0)){let e=((null==(r=g.flip)?void 0:r.index)||0)+1,t=P[e];if(t&&("alignment"!==v||k===lI(t)||R.every(e=>lI(e.placement)!==k||e.overflows[0]>0)))return{data:{index:e,overflows:R},reset:{placement:t}};let n=null==(i=R.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!n)switch(C){case"bestFit":{let e=null==(l=R.filter(e=>{if(M){let t=lI(e.placement);return t===k||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(n=e);break}case"initialPlacement":n=m}if(h!==n)return{reset:{placement:n}}}return{}}},options:[u,void 0]},{...{name:"size",options:c=f={...H,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:i,height:l}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${n}px`),o.setProperty("--radix-popper-available-height",`${r}px`),o.setProperty("--radix-popper-anchor-width",`${i}px`),o.setProperty("--radix-popper-anchor-height",`${l}px`)}},async fn(e){var t,n;let r,i,{placement:l,rects:o,platform:s,elements:a}=e,{apply:u=()=>{},...d}=lM(c,e),f=await lY(e,d),h=lP(l),g=lD(l),p="y"===lI(l),{width:m,height:y}=o.floating;"top"===h||"bottom"===h?(r=h,i=g===(await (null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(i=h,r="end"===g?"top":"bottom");let _=y-f.top-f.bottom,x=m-f.left-f.right,v=lw(y-f[r],_),b=lw(m-f[i],x),C=!e.middlewareData.shift,S=v,w=b;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(w=x),null!=(n=e.middlewareData.shift)&&n.enabled.y&&(S=_),C&&!g){let e=lE(f.left,0),t=lE(f.right,0),n=lE(f.top,0),r=lE(f.bottom,0);p?w=m-2*(0!==e||0!==t?e+t:lE(f.left,f.right)):S=y-2*(0!==n||0!==r?n+r:lE(f.top,f.bottom))}await u({...e,availableWidth:w,availableHeight:S});let E=await s.getDimensions(a.floating);return m!==E.width||y!==E.height?{reset:{rects:!0}}:{}}},options:[f,void 0]},R&&{...{name:"arrow",options:g=h={element:R,padding:C},fn(e){let{element:t,padding:n}="function"==typeof g?g(e):g;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?oA({element:t.current,padding:n}).fn(e):{}:t?oA({element:t,padding:n}).fn(e):{}}},options:[h,void 0]},o0({arrowWidth:z,arrowHeight:B}),k&&{...{name:"hide",options:m=p={strategy:"referenceHidden",...H},async fn(e){let{rects:t}=e,{strategy:n="referenceHidden",...r}=lM(m,e);switch(n){case"referenceHidden":{let n=lq(await lY(e,{...r,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:lG(n)}}}case"escaped":{let n=lq(await lY(e,{...r,altBoundary:!0}),t.floating);return{data:{escapedOffsets:n,escaped:lG(n)}}}default:return{}}}},options:[p,void 0]}]}),[q,G]=o1(U),X=(0,ly.useCallbackRef)(O);(0,oz.useLayoutEffect)(()=>{V&&X?.()},[V,X]);let Z=Y.arrow?.x,Q=Y.arrow?.y,ee=Y.arrow?.centerOffset!==0,[et,en]=o.useState();return(0,oz.useLayoutEffect)(()=>{P&&en(window.getComputedStyle(P).zIndex)},[P]),(0,l.jsx)("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:V?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(oV,{scope:y,placedSide:q,onArrowChange:F,arrowX:Z,arrowY:Q,shouldHideArrow:ee,children:(0,l.jsx)(lm.Primitive.div,{"data-side":q,"data-align":G,...A,ref:L,style:{...A.style,animation:V?void 0:"none"}})})})});oq.displayName=oU;var oG="PopperArrow",oX={top:"bottom",right:"left",bottom:"top",left:"right"},oZ=o.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,i=oY(oG,n),o=oX[i.placedSide];return(0,l.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(oI,{...r,ref:t,style:{...r.style,display:"block"}})})});function oQ(e){return null!==e}oZ.displayName=oG;var o0=e=>({name:"transformOrigin",options:e,fn(t){let{placement:n,rects:r,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,o=l?0:e.arrowWidth,s=l?0:e.arrowHeight,[a,u]=o1(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(i.arrow?.x??0)+o/2,c=(i.arrow?.y??0)+s/2,h="",g="";return"bottom"===a?(h=l?d:`${f}px`,g=`${-s}px`):"top"===a?(h=l?d:`${f}px`,g=`${r.floating.height+s}px`):"right"===a?(h=`${-s}px`,g=l?d:`${c}px`):"left"===a&&(h=`${r.floating.width+s}px`,g=l?d:`${c}px`),{data:{x:h,y:g}}}});function o1(e){let[t,n="center"]=e.split("-");return[t,n]}o.forwardRef((e,t)=>{let{container:n,...r}=e,[i,s]=o.useState(!1);(0,oz.useLayoutEffect)(()=>s(!0),[]);let a=n||i&&globalThis?.document?.body;return a?oM.default.createPortal((0,l.jsx)(lm.Primitive.div,{...r,ref:t}),a):null}).displayName="Portal";var o2=e.i(46769),o3=Symbol("radix.slottable");e.i(1053);var o5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o6=o.forwardRef((e,t)=>(0,l.jsx)(lm.Primitive.span,{...e,ref:t,style:{...o5,...e.style}}));o6.displayName="VisuallyHidden";var[o4,o9]=(0,lp.createContextScope)("Tooltip",[oW]),o7=oW(),o8="TooltipProvider",se="tooltip.open",[st,sn]=o4(o8),sr=e=>{let{__scopeTooltip:t,delayDuration:n=700,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=o.useRef(!0),u=o.useRef(!1),d=o.useRef(0);return o.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,l.jsx)(st,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:o.useCallback(()=>{window.clearTimeout(d.current),a.current=!1},[]),onClose:o.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:o.useCallback(e=>{u.current=e},[]),disableHoverableContent:i,children:s})};sr.displayName=o8;var si="Tooltip",[sl,so]=o4(si),ss="TooltipTrigger";o.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=so(ss,n),s=sn(ss,n),a=o7(n),u=o.useRef(null),d=(0,lg.useComposedRefs)(t,u,i.onTriggerChange),f=o.useRef(!1),c=o.useRef(!1),h=o.useCallback(()=>f.current=!1,[]);return o.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),(0,l.jsx)(oJ,{asChild:!0,...a,children:(0,l.jsx)(lm.Primitive.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:(0,lh.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(c.current||s.isPointerInTransitRef.current||(i.onTriggerEnter(),c.current=!0))}),onPointerLeave:(0,lh.composeEventHandlers)(e.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:(0,lh.composeEventHandlers)(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:(0,lh.composeEventHandlers)(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:(0,lh.composeEventHandlers)(e.onBlur,i.onClose),onClick:(0,lh.composeEventHandlers)(e.onClick,i.onClose)})})}).displayName=ss;var[sa,su]=o4("TooltipPortal",{forceMount:void 0}),sd="TooltipContent",sf=o.forwardRef((e,t)=>{let n=su(sd,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,s=so(sd,e.__scopeTooltip);return(0,l.jsx)(o2.Presence,{present:r||s.open,children:s.disableHoverableContent?(0,l.jsx)(sm,{side:i,...o,ref:t}):(0,l.jsx)(sc,{side:i,...o,ref:t})})}),sc=o.forwardRef((e,t)=>{let n=so(sd,e.__scopeTooltip),r=sn(sd,e.__scopeTooltip),i=o.useRef(null),s=(0,lg.useComposedRefs)(t,i),[a,u]=o.useState(null),{trigger:d,onClose:f}=n,c=i.current,{onPointerInTransitChange:h}=r,g=o.useCallback(()=>{u(null),h(!1)},[h]),p=o.useCallback((e,t)=>{let n,r=e.currentTarget,i={x:e.clientX,y:e.clientY},l=function(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw Error("unreachable")}}(i,r.getBoundingClientRect());u(((n=[...function(e,t,n=5){let r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(i,l),...function(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(n))),h(!0)},[h]);return o.useEffect(()=>()=>g(),[g]),o.useEffect(()=>{if(d&&c){let e=e=>p(e,c),t=e=>p(e,d);return d.addEventListener("pointerleave",e),c.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),c.removeEventListener("pointerleave",t)}}},[d,c,p,g]),o.useEffect(()=>{if(a){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=d?.contains(t)||c?.contains(t),i=!function(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,l=t.length-1;e<t.length;l=e++){let o=t[e],s=t[l],a=o.x,u=o.y,d=s.x,f=s.y;u>r!=f>r&&n<(d-a)*(r-u)/(f-u)+a&&(i=!i)}return i}(n,a);r?g():i&&(g(),f())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,c,a,f,g]),(0,l.jsx)(sm,{...e,ref:s})}),[sh,sg]=o4(si,{isInside:!1}),sp=((r=({children:e})=>(0,l.jsx)(l.Fragment,{children:e})).displayName="TooltipContent.Slottable",r.__radixId=o3,r),sm=o.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...u}=e,d=so(sd,n),f=o7(n),{onClose:c}=d;return o.useEffect(()=>(document.addEventListener(se,c),()=>document.removeEventListener(se,c)),[c]),o.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;t?.contains(d.trigger)&&c()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,c]),(0,l.jsx)(lv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:c,children:(0,l.jsxs)(oq,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,l.jsx)(sp,{children:r}),(0,l.jsx)(sh,{scope:n,isInside:!0,children:(0,l.jsx)(o6,{id:d.contentId,role:"tooltip",children:i||r})})]})})});sf.displayName=sd;var sy="TooltipArrow";function s_({delayDuration:e=0,...t}){return(0,l.jsx)(sr,{"data-slot":"tooltip-provider",delayDuration:e,...t})}o.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=o7(n);return sg(sy,n).isInside?null:(0,l.jsx)(oZ,{...i,...r,ref:t})}).displayName=sy,e.i(17100);let sx=new Map;function sv(e){let t=nX().getElementByKey(e.getKey());if(null===t)return null;let n=t.ownerDocument.defaultView;return null===n?null:n.getComputedStyle(t)}function sb(e){return sv(rs(e)?e:e.getParentOrThrow())}function sC(e){let t=sb(e);return null!==t&&"rtl"===t.direction}function sS(e,t,n="self"){let r=e.getStartEndPoints();if(t.isSelected(e)&&!rA(t)&&null!==r){let[l,o]=r,s=e.isBackward(),a=l.getNode(),u=o.getNode(),d=t.is(a),f=t.is(u);if(d||f){var i;let[r,l]=nx(e),o=a.is(u),d=t.is(s?u:a),f=t.is(s?a:u),c,h=0;o?(h=r>l?l:r,c=r>l?r:l):d?(h=s?l:r,c=void 0):f&&(h=0,c=s?r:l);let g=t.__text.slice(h,c);g!==t.__text&&("clone"===n&&((i=ik(t))[tJ]=!0,t=i),t.__text=g)}}return t}function sw(e){let t=sE(e);return null!==t&&"vertical-rl"===t.writingMode}function sE(e){let t=e.anchor.getNode();return rn(t)?sv(t):sb(t)}function sT(e,t){let n=sw(e)?!t:t;sk(e)&&(n=!n);let r=i6(e.focus,n?"previous":"next");if(lr(r))return!1;for(let e of iZ(r)){if(iW(e))return!e.origin.isInline();if(!rn(e.origin)){if(rl(e.origin))return!0;break}}return!1}function sk(e){let t=sE(e);return null!==t&&"rtl"===t.direction}function sN(e,t,n){let r,i=sk(e);r=sw(e)||i?!n:n,e.modify(t?"extend":"move",r,"character")}let sO=new Set(["STYLE","SCRIPT"]),sA="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,sM=sA&&"documentMode"in document?document.documentMode:null;sA&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),sA&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),sA&&"InputEvent"in window&&!sM&&new window.InputEvent("input"),sA&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),sA&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,sA&&/Android/.test(navigator.userAgent),sA&&/^(?=.*Chrome).*/i.test(navigator.userAgent);function sP(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}function sD(e,...t){let n=function(...e){let t=[];for(let n of e)if(n&&"string"==typeof n)for(let[e]of n.matchAll(/\S+/g))t.push(e);return t}(...t);n.length>0&&e.classList.add(...n)}sA&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);function sL(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}function sR(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let n of(r.append("code",e),t))r.append("v",n);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function sF(e,t,n){let r=e.getData("application/x-lexical-editor");if(r)try{let e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return sI(n,function(e){let t=[];for(let n=0;n<e.length;n++){let r=n2(e[n],nX()._nodes);nl(r)&&function(e){let t=e.getStyle(),n=function(e){let t={};if(!e)return t;for(let n of e.split(";"))if(""!==n){let[e,r]=n.split(/:([^]+)/);e&&r&&(t[e.trim()]=r.trim())}return t}(t);sx.set(t,n)}(r),t.push(r)}return t}(e.nodes),t)}catch(e){console.error(e)}let i=e.getData("text/html"),l=e.getData("text/plain");if(i&&l!==i)try{let e=(new DOMParser).parseFromString(window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(i):i,"text/html");return sI(n,function(e,t){let n=rP(t)?t.body.childNodes:t.childNodes,r=[],i=[];for(let t of n)if(!sO.has(t.nodeName)){let n=function e(t,n,r,i,l=new Map,o){let s=[];if(sO.has(t.nodeName))return s;let a=null,u=function(e,t){let{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase()),i=null;if(void 0!==r)for(let t of r){let n=t(e);null!==n&&(null===i||(i.priority||0)<=(n.priority||0))&&(i=n)}return null!==i?i.conversion:null}(t,n),d=u?u(t):null,f=null;if(null!==d){f=d.after;let e=d.node;if(null!==(a=Array.isArray(e)?e[e.length-1]:e)){for(let[,e]of l)if(!(a=e(a,o)))break;a&&s.push(...Array.isArray(e)?e:[a])}null!=d.forChild&&l.set(t.nodeName,d.forChild)}let c=t.childNodes,h=[],g=(null==a||!ic(a))&&(null!=a&&nk(a)||i);for(let t=0;t<c.length;t++)h.push(...e(c[t],n,r,g,new Map(l),a));return null!=f&&(h=f(h)),iC(t)&&(h=function(e,t,n){let r=e.style.textAlign,i=[],l=[];for(let e=0;e<t.length;e++){let o=t[e];if(nk(o))r&&!o.getFormat()&&o.setFormat(r),i.push(o);else if(l.push(o),e===t.length-1||e<t.length-1&&nk(t[e+1])){let e=n();e.setFormat(r),e.append(...l),i.push(e),l=[]}}return i}(t,h,g?()=>{let e=new rf;return r.push(e),e}:rg)),null==a?h.length>0?s=s.concat(h):iC(t)&&null!=t.nextSibling&&null!=t.previousSibling&&ib(t.nextSibling)&&ib(t.previousSibling)&&(s=s.concat(tX())):rn(a)&&a.append(...h),s}(t,e,i,!1);null!==n&&(r=r.concat(n))}return function(e){for(let t of e)t.getNextSibling()instanceof rf&&t.insertAfter(tX());for(let t of e){for(let e of t.getChildren())t.insertBefore(e);t.remove()}}(i),r}(n,e),t)}catch(e){console.error(e)}let o=l||e.getData("text/uri-list");if(null!=o)if(np(t)){let e=o.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){let n=nP();if(np(n)){let r=e[t];"\n"===r||"\r\n"===r?n.insertParagraph():"	"===r?n.insertNodes([na()]):n.insertText(r)}}}else t.insertRawText(o)}function sI(e,t,n){e.dispatchCommand(eA,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if(np(e)&&e.isCollapsed()){let t=e.anchor,n=null,r=i6(t,"previous");if(r)if(iB(r))n=r.origin;else for(let e of iQ(r,iY(rJ(),"next").getFlipped())){if(nl(e.origin)){n=e.origin;break}if(rn(e.origin)&&!e.origin.isInline())break}if(n&&nl(n)){let t=n.getFormat(),r=n.getStyle();e.format===t&&e.style===r||(e.format=t,e.style=r,e.dirty=!0)}}}(n))}let sz=null;async function sB(e,t,n){if(null!==sz)return!1;if(null!==t)return new Promise((r,i)=>{e.update(()=>{r(sK(e,t,n))})});let r=e.getRootElement(),i=e._window||window,l=i.document,o=iy(i);if(null===r||null===o)return!1;let s=l.createElement("span");s.style.cssText="position: fixed; top: -1000px;",s.append(l.createTextNode("#")),r.append(s);let a=new Range;return a.setStart(s,0),a.setEnd(s,1),o.removeAllRanges(),o.addRange(a),new Promise((t,r)=>{let o=e.registerCommand(ti,r=>(sL(r,ClipboardEvent)&&(o(),null!==sz&&(i.clearTimeout(sz),sz=null),t(sK(e,r,n))),!0),4);sz=i.setTimeout(()=>{o(),sz=null,t(!1)},50),l.execCommand("copy"),s.remove()})}function sK(e,t,n){if(void 0===n){let t=iy(e._window),r=nP();if(!r||r.isCollapsed()||!t)return!1;let i=t.anchorNode,l=t.focusNode;if(null!==i&&null!==l&&!rE(e,i,l))return!1;n=function(e=nP()){let t={"text/plain":e?e.getTextContent():""};if(e){let n=nX();for(let[r,i]of sW){let l=i(n,e);null!==l&&(t[r]=l)}}return t}(r)}t.preventDefault();let r=t.clipboardData;return null!==r&&(function(e,t){for(let[n]of sW)void 0===t[n]&&e.setData(n,"");for(let n in t){let r=t[n];void 0!==r&&e.setData(n,r)}}(r,n),!0)}let sW=[["text/html",function(t,n=nP()){return null==n&&sR(166),np(n)&&n.isCollapsed()||0===n.getNodes().length?"":function(t,n){if("undefined"==typeof document||"undefined"==typeof window&&void 0===e.g.window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let r=document.createElement("div"),i=rJ().getChildren();for(let e=0;e<i.length;e++)!function e(t,n,r,i=null){let l=null===i||n.isSelected(i),o=rn(n)&&n.excludeFromCopy("html"),s=n;null!==i&&nl(n)&&(s=sS(i,n,"clone"));let a=rn(s)?s.getChildren():[],u=rC(t,s.getType()),{element:d,after:f}=u&&void 0!==u.exportDOM?u.exportDOM(t,s):s.exportDOM(t);if(!d)return!1;let c=document.createDocumentFragment();for(let r=0;r<a.length;r++){let o=a[r],s=e(t,o,c,i);!l&&rn(n)&&s&&n.extractWithChild(o,i,"html")&&(l=!0)}if(l&&!o){if((i_(d)||iv(d))&&d.append(c),r.append(d),f){let e=f.call(s,d);e&&(iv(d)?d.replaceChildren(e):d.replaceWith(e))}}else r.append(c);return l}(t,i[e],r,n);return r.innerHTML}(t,n)}],["application/x-lexical-editor",function(e,t=nP()){return null==t&&sR(166),np(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(function(e,t){let n=[],r=rJ().getChildren();for(let i=0;i<r.length;i++)!function e(t,n,r,i=[]){var l;let o,s,a=null===n||r.isSelected(n),u=rn(r)&&r.excludeFromCopy("html"),d=r;null!==n&&nl(d)&&(d=sS(n,d,"clone"));let f=rn(d)?d.getChildren():[],c=(o=(l=d).exportJSON(),s=l.constructor,o.type!==s.getType()&&sR(58,s.name),rn(l)&&(Array.isArray(o.children)||sR(59,s.name)),o);nl(d)&&0===d.getTextContentSize()&&(a=!1);for(let i=0;i<f.length;i++){let l=f[i],o=e(t,n,l,c.children);!a&&rn(r)&&o&&r.extractWithChild(l,n,"clone")&&(a=!0)}if(a&&!u)i.push(c);else if(Array.isArray(c.children))for(let e=0;e<c.children.length;e++){let t=c.children[e];i.push(t)}return a}(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}(e,t))}]],sj=Symbol.for("preact-signals");function sH(){if(sJ>1)return void sJ--;let e,t=!1;for(;void 0!==n;){let r=n;for(n=void 0,sU++;void 0!==r;){let n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&sG(r))try{r.c()}catch(n){t||(e=n,t=!0)}r=n}}if(sU=0,sJ--,t)throw e}function s$(e){let n=t;t=void 0;try{return e()}finally{t=n}}let sJ=0,sU=0,sV=0;function sY(e){if(void 0===t)return;let n=e.n;return void 0===n||n.t!==t?(n={i:0,S:e,p:t.s,n:void 0,t:t,e:void 0,x:void 0,r:n},void 0!==t.s&&(t.s.n=n),t.s=n,e.n=n,32&t.f&&e.S(n),n):-1===n.i?(n.i=0,void 0!==n.n&&(n.n.p=n.p,void 0!==n.p&&(n.p.n=n.n),n.p=t.s,n.n=void 0,t.s.n=n,t.s=n),n):void 0}function sq(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function sG(e){for(let t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function sX(e){for(let t=e.s;void 0!==t;t=t.n){let n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function sZ(e){let t,n=e.s;for(;void 0!==n;){let e=n.p;-1===n.i?(n.S.U(n),void 0!==e&&(e.n=n.n),void 0!==n.n&&(n.n.p=e)):t=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=e}e.s=t}function sQ(e,t){sq.call(this,void 0),this.x=e,this.s=void 0,this.g=sV-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function s0(e){let n=e.u;if(e.u=void 0,"function"==typeof n){sJ++;let r=t;t=void 0;try{n()}catch(t){throw e.f&=-2,e.f|=8,s1(e),t}finally{t=r,sH()}}}function s1(e){for(let t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,s0(e)}function s2(e){if(t!==this)throw Error("Out-of-order effect");sZ(this),t=e,this.f&=-2,8&this.f&&s1(this),sH()}function s3(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name}function s5(e,t){let n=new s3(e,t);try{n.c()}catch(e){throw n.d(),e}let r=n.d.bind(n);return r[Symbol.dispose]=r,r}sq.prototype.brand=sj,sq.prototype.h=function(){return!0},sq.prototype.S=function(e){let t=this.t;t!==e&&void 0===e.e&&(e.x=t,this.t=e,void 0!==t?t.e=e:s$(()=>{var e;null==(e=this.W)||e.call(this)}))},sq.prototype.U=function(e){if(void 0!==this.t){let t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n,void 0===n&&s$(()=>{var e;null==(e=this.Z)||e.call(this)}))}},sq.prototype.subscribe=function(e){return s5(()=>{let n=this.value,r=t;t=void 0;try{e(n)}finally{t=r}},{name:"sub"})},sq.prototype.valueOf=function(){return this.value},sq.prototype.toString=function(){return this.value+""},sq.prototype.toJSON=function(){return this.value},sq.prototype.peek=function(){let e=t;t=void 0;try{return this.value}finally{t=e}},Object.defineProperty(sq.prototype,"value",{get(){let e=sY(this);return void 0!==e&&(e.i=this.i),this.v},set(e){if(e!==this.v){if(sU>100)throw Error("Cycle detected");this.v=e,this.i++,sV++,sJ++;try{for(let e=this.t;void 0!==e;e=e.x)e.t.N()}finally{sH()}}}}),sQ.prototype=new sq,sQ.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===sV))return!0;if(this.g=sV,this.f|=1,this.i>0&&!sG(this))return this.f&=-2,!0;let e=t;try{sX(this),t=this;let e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return t=e,sZ(this),this.f&=-2,!0},sQ.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(let e=this.s;void 0!==e;e=e.n)e.S.S(e)}sq.prototype.S.call(this,e)},sQ.prototype.U=function(e){if(void 0!==this.t&&(sq.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(let e=this.s;void 0!==e;e=e.n)e.S.U(e)}},sQ.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(sQ.prototype,"value",{get(){if(1&this.f)throw Error("Cycle detected");let e=sY(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),s3.prototype.c=function(){let e=this.S();try{if(8&this.f||void 0===this.x)return;let e=this.x();"function"==typeof e&&(this.u=e)}finally{e()}},s3.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,s0(this),sX(this),sJ++;let e=t;return t=this,s2.bind(this,e)},s3.prototype.N=function(){2&this.f||(this.f|=2,this.o=n,n=this)},s3.prototype.d=function(){this.f|=8,1&this.f||s1(this)},s3.prototype.dispose=function(){this.d()};function s6(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let n of(r.append("code",e),t))r.append("v",n);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let s4=new Set;class s9{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(e,t){this.builder=e,this.extension=t,this.configs=new Set,this.state={id:0}}mergeConfigs(){let e=this.extension.config||{},t=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):lo;for(let n of this.configs)e=t(e,n);return e}init(e){let t,n=this.state;2===n.id||s6(306,String(n.id));let r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},l=Object.assign(n,{config:this.mergeConfigs(),id:3,registerState:r});this.state=l,this.extension.init&&(t=this.extension.init(e,l.config,r)),this.state=Object.assign(l,{id:4,initResult:t,registerState:i})}build(e){let t,n=this.state;4!==n.id&&s6(307,String(n.id),String(5)),this.extension.build&&(t=this.extension.build(e,n.config,n.registerState));let r={...n.registerState,getOutput:()=>t,getSignal:this.getSignal.bind(this)};this.state=Object.assign(n,{id:5,output:t,registerState:r})}register(e,t){this._signal=t;let n=this.state;5!==n.id&&s6(308,String(n.id),String(5));let r=this.extension.register&&this.extension.register(e,n.config,n.registerState);return this.state=Object.assign(n,{id:6}),()=>{let e=this.state;7!==e.id&&s6(309,String(n.id),String(7)),this.state=Object.assign(e,{id:5}),r&&r()}}afterRegistration(e){let t,n=this.state;return 6!==n.id&&s6(310,String(n.id),String(6)),this.extension.afterRegistration&&(t=this.extension.afterRegistration(e,n.config,n.registerState)),this.state=Object.assign(n,{id:7}),t}getSignal(){return void 0===this._signal&&s6(311),this._signal}getInitResult(){void 0===this.extension.init&&s6(312,this.extension.name);let e=this.state;return e.id>=4||s6(313,String(e.id),String(4)),e.initResult}getInitPeer(e){let t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0}getExtensionInitDependency(){let e=this.state;return e.id>=3||s6(314,String(e.id),String(3)),{config:e.config}}getPeer(e){let t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}getInitDependency(e){let t=this.builder.getExtensionRep(e);return void 0===t&&s6(315,this.extension.name,e.name),t.getExtensionInitDependency()}getDependency(e){let t=this.builder.getExtensionRep(e);return void 0===t&&s6(315,this.extension.name,e.name),t.getExtensionDependency()}getState(){let e=this.state;return e.id>=7||s6(316,String(e.id),String(7)),e}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||s4}getPeerNameSet(){let e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(([e])=>e)),this._peerNameSet=e),e}getExtensionDependency(){if(!this._dependency){let e=this.state;e.id>=5||s6(317,this.extension.name),this._dependency={config:e.config,init:e.initResult,output:e.output}}return this._dependency}}let s7={tag:tY};function s8(){let e=rJ();e.isEmpty()&&e.append(rg())}let ae={config:{setOptions:s7,updateOptions:s7},init:({$initialEditorState:e=s8})=>({$initialEditorState:e,initialized:!1}),afterRegistration(e,{updateOptions:t,setOptions:n},r){let i=r.getInitResult();if(!i.initialized){i.initialized=!0;let{$initialEditorState:r}=i;if(r instanceof rd)e.setEditorState(r,n);else if("function"==typeof r)e.update(()=>{r(e)},t);else if(r&&("string"==typeof r||"object"==typeof r)){let t=e.parseEditorState(r);e.setEditorState(t,n)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[ro,t4,tq,ns,rc]},at=Symbol.for("@lexical/extension/LexicalBuilder");function an(){}function ar(e){throw e}function ai(e){return Array.isArray(e)?e:[e]}let al="0.39.0+prod.esm";class ao{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(e){for(const t of(this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=al,this.roots=e,e))this.addExtension(t)}static fromExtensions(e){let t=[ai(ae)];for(let n of e)t.push(ai(n));return new ao(t)}static maybeFromEditor(e){let t=e[at];return t&&(t.PACKAGE_VERSION!==al&&s6(292,t.PACKAGE_VERSION,al),t instanceof ao||s6(293)),t}static fromEditor(e){let t=ao.maybeFromEditor(e);return void 0===t&&s6(294),t}constructEditor(){let{$initialEditorState:e,onError:t,...n}=this.buildCreateEditorArgs(),r=Object.assign(ry({...n,...t?{onError:e=>{t(e,r)}}:{}}),{[at]:this});for(let e of this.sortedExtensionReps())e.build(r);return r}buildEditor(){let e=an;function t(){try{e()}finally{e=an}}let n=Object.assign(this.constructEditor(),{dispose:t,[Symbol.dispose]:t});return e=sP(this.registerEditor(n),()=>n.setRootElement(null)),n}hasExtensionByName(e){return this.extensionNameMap.has(e)}getExtensionRep(e){let t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&s6(295,e.name),t}addEdge(e,t,n){let r=this.outgoingConfigEdges.get(e);r?r.set(t,n):this.outgoingConfigEdges.set(e,new Map([[t,n]]));let i=this.incomingEdges.get(t);i?i.add(e):this.incomingEdges.set(t,new Set([e]))}addExtension(e){void 0!==this._sortedExtensionReps&&s6(296);let[t]=ai(e);"string"!=typeof t.name&&s6(297,typeof t.name);let n=this.extensionNameMap.get(t.name);if(void 0!==n&&n.extension!==t&&s6(298,t.name),!n){n=new s9(this,t),this.extensionNameMap.set(t.name,n);let e=this.conflicts.get(t.name);for(let n of("string"==typeof e&&s6(299,t.name,e),t.conflictsWith||[]))this.extensionNameMap.has(n)&&s6(299,t.name,n),this.conflicts.set(n,t.name);for(let e of t.dependencies||[]){let n=ai(e);this.addEdge(t.name,n[0].name,n.slice(1)),this.addExtension(n)}for(let[e,n]of t.peerDependencies||[])this.addEdge(t.name,e,n?[n]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;let e=[],t=(n,r)=>{var i,l;let o=n.state;if(2===o.id)return;let s=n.extension.name;0===o.id||s6(300,s,r||"[unknown]"),0===(i=o).id||s6(304,String(i.id),String(0)),n.state=o=Object.assign(i,{id:1});let a=this.outgoingConfigEdges.get(s);if(a)for(let e of a.keys()){let n=this.extensionNameMap.get(e);n&&t(n,s)}1===(l=o).id||s6(305,String(l.id),String(1)),n.state=o=Object.assign(l,{id:2}),e.push(n)};for(let e of this.extensionNameMap.values())0===e.state.id&&t(e);for(let t of e)for(let[e,n]of this.outgoingConfigEdges.get(t.extension.name)||[])if(n.length>0){let t=this.extensionNameMap.get(e);if(t)for(let e of n)t.configs.add(e)}for(let[e,...t]of this.roots)if(t.length>0){let n=this.extensionNameMap.get(e.name);for(let r of(void 0===n&&s6(301,e.name),t))n.configs.add(r)}return this._sortedExtensionReps=e,this._sortedExtensionReps}registerEditor(e){let t=this.sortedExtensionReps(),n=new AbortController,r=[()=>n.abort()],i=n.signal;for(let n of t){let t=n.register(e,i);t&&r.push(t)}for(let n of t){let t=n.afterRegistration(e);t&&r.push(t)}return sP(...r)}buildCreateEditorArgs(){let e={},t=new Set,n=new Map,r=new Map,i={},l={},o=this.sortedExtensionReps();for(let s of o){let{extension:o}=s;if(void 0!==o.onError&&(e.onError=o.onError),void 0!==o.disableEvents&&(e.disableEvents=o.disableEvents),void 0!==o.parentEditor&&(e.parentEditor=o.parentEditor),void 0!==o.editable&&(e.editable=o.editable),void 0!==o.namespace&&(e.namespace=o.namespace),void 0!==o.$initialEditorState&&(e.$initialEditorState=o.$initialEditorState),o.nodes){for(let e of("function"==typeof o.nodes?o.nodes():o.nodes)||[]){if("function"!=typeof e){let t=n.get(e.replace);t&&s6(302,o.name,e.replace.name,t.extension.name),n.set(e.replace,s)}t.add(e)}}if(o.html){if(o.html.export)for(let[e,t]of o.html.export.entries())r.set(e,t);o.html.import&&Object.assign(i,o.html.import)}o.theme&&function e(t,n){if(t&&n&&!Array.isArray(n)&&"object"==typeof t&&"object"==typeof n){for(let r in n)t[r]=e(t[r],n[r]);return t}return n}(l,o.theme)}Object.keys(l).length>0&&(e.theme=l),t.size&&(e.nodes=[...t]);let s=Object.keys(i).length>0,a=r.size>0;for(let t of((s||a)&&(e.html={},s&&(e.html.import=i),a&&(e.html.export=r)),o))t.init(e);return e.onError||(e.onError=ar),e}}eN("INSERT_HORIZONTAL_RULE_COMMAND");function as(e){let t=window.location.origin,n=n=>{if(n.origin!==t)return;let r=e.getRootElement();if(document.activeElement!==r)return;let i=n.data;if("string"==typeof i){let t;try{t=JSON.parse(i)}catch(e){return}if(t&&"nuanria_messaging"===t.protocol&&"request"===t.type){let r=t.payload;if(r&&"makeChanges"===r.functionId){let t=r.args;if(t){let[r,i,l,o,s]=t;e.update(()=>{let e=nP();if(np(e)){let t=e.anchor,a=t.getNode(),u=0,d=0;if(nl(a)&&r>=0&&i>=0&&(u=r,d=r+i,e.setTextNodeRange(a,u,a,d)),u===d&&""===l||(e.insertRawText(l),a=t.getNode()),nl(a)){u=o,d=o+s;let t=a.getTextContentSize();u=u>t?t:u,d=d>t?t:d,e.setTextNodeRange(a,u,a,d)}n.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}function aa(e,t){if(void 0!==document.caretRangeFromPoint){let n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){let n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}let au="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ad=au&&"documentMode"in document?document.documentMode:null,af=au&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ac=!(!au||!("InputEvent"in window)||ad)&&"getTargetRanges"in new window.InputEvent("input"),ah=au&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),ag=au&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ap=au&&/^(?=.*Chrome).*/i.test(navigator.userAgent),am=au&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&af&&!ap,ay=eN("DRAG_DROP_PASTE_FILE");class a_ extends rt{static getType(){return"quote"}static clone(e){return new a_(e.__key)}createDOM(e){let t=document.createElement("blockquote");return sD(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:aC,priority:0})}}exportDOM(e){let{element:t}=super.exportDOM(e);if(i_(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();e&&(t.style.textAlign=e);let n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return ih(new a_).updateFromJSON(e)}insertNewAfter(e,t){let n=rg(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){let e=rg();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}class ax extends rt{__tag;static getType(){return"heading"}static clone(e){return new ax(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){let t=this.getWritable();return this.__tag=e,t}createDOM(e){let t=this.__tag,n=document.createElement(t),r=e.theme.heading;return void 0!==r&&sD(n,r[t]),n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:ab,priority:0}),h2:e=>({conversion:ab,priority:0}),h3:e=>({conversion:ab,priority:0}),h4:e=>({conversion:ab,priority:0}),h5:e=>({conversion:ab,priority:0}),h6:e=>({conversion:ab,priority:0}),p:e=>{let t=e.firstChild;return null!==t&&av(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>av(e)?{conversion:e=>({node:aS("h1")}),priority:3}:null}}exportDOM(e){let{element:t}=super.exportDOM(e);if(i_(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();e&&(t.style.textAlign=e);let n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return aS(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){let n=e?e.anchor.offset:0,r=this.getLastDescendant(),i=r&&(!e||e.anchor.key!==r.getKey()||n!==r.getTextContentSize())&&e?aS(this.getTag()):rg(),l=this.getDirection();if(i.setDirection(l),this.insertAfter(i,t),0===n&&!this.isEmpty()&&e){let e=rg();e.select(),this.replace(e,!0)}return i}collapseAtStart(){let e=this.isEmpty()?rg():aS(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function av(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function ab(e){let t=e.nodeName.toLowerCase(),n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=aS(t),null!==e.style&&(iN(e,n),n.setFormat(e.style.textAlign))),{node:n}}function aC(e){let t=ih(new a_);return null!==e.style&&(t.setFormat(e.style.textAlign),iN(e,t)),{node:t}}function aS(e="h1"){return ih(new ax(e))}function aw(e){let t=null;if(sL(e,DragEvent)?t=e.dataTransfer:sL(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];let n=t.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),i]}function aE(e){let t=nP();if(!np(t))return!1;let n=new Set,r=t.getNodes();for(let t=0;t<r.length;t++){let i=r[t],l=i.getKey();if(n.has(l))continue;let o=iM(i,e=>rn(e)&&!e.isInline());if(null===o)continue;let s=o.getKey();o.canIndent()&&!n.has(s)&&(n.add(s),e(o))}return n.size>0}function aT(e){for(let t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}let ak=[ax,rc,t4,a_];var aN=o;let aO=(0,aN.createContext)(null),aA={didCatch:!1,error:null};class aM extends aN.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=aA}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(...e){let{error:t}=this.state;null!==t&&(this.props.onReset?.({args:e,reason:"imperative-api"}),this.setState(aA))}componentDidCatch(e,t){this.props.onError?.(e,t)}componentDidUpdate(e,t){let{didCatch:n}=this.state,{resetKeys:r}=this.props;n&&null!==t.error&&function(e=[],t=[]){return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,r)&&(this.props.onReset?.({next:r,prev:e.resetKeys,reason:"keys"}),this.setState(aA))}render(){let{children:e,fallbackRender:t,FallbackComponent:n,fallback:r}=this.props,{didCatch:i,error:l}=this.state,o=e;if(i){let e={error:l,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)o=t(e);else if(n)o=(0,aN.createElement)(n,e);else if(void 0!==r)o=r;else throw l}return(0,aN.createElement)(aO.Provider,{value:{didCatch:i,error:l,resetErrorBoundary:this.resetErrorBoundary}},o)}}function aP({children:e,onError:t}){return(0,l.jsx)(aM,{fallback:(0,l.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}let aD="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function aL(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function aR(e){return()=>(function(e){if(!function(e,t=!0){if(e)return!1;let n=rJ().getTextContent();return t&&(n=n.trim()),""===n}(e,!1))return!1;let t=rJ().getChildren(),n=t.length;if(n>1)return!1;for(let e=0;e<n;e++){let n=t[e];if(rl(n))return!1;if(rn(n)){if(!rp(n)||0!==n.__indent)return!1;let t=n.getChildren(),r=t.length;for(let n=0;n<r;n++)if(!nl(t[e]))return!1}}return!0})(e)}let aF="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function aI({editor:e,ErrorBoundary:t}){return function(e,t){let[n,r]=(0,o.useState)(()=>e.getDecorators());return aF(()=>e.registerDecoratorListener(e=>{(0,oM.flushSync)(()=>{r(e)})}),[e]),(0,o.useEffect)(()=>{r(e.getDecorators())},[e]),(0,o.useMemo)(()=>{let r=[],i=Object.keys(n);for(let s=0;s<i.length;s++){let a=i[s],u=(0,l.jsx)(t,{onError:t=>e._onError(t),children:(0,l.jsx)(o.Suspense,{fallback:null,children:n[a]})}),d=e.getElementByKey(a);null!==d&&r.push((0,oM.createPortal)(u,d,a))}return r},[t,n,e])}(e,t)}function az({editor:e,ErrorBoundary:t}){return!function(e){let t=ao.maybeFromEditor(e);if(t&&t.hasExtensionByName("@lexical/react/ReactProvider")){for(let e of["@lexical/plain-text","@lexical/rich-text"])t.hasExtensionByName(e)&&function(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let e of(r.append("code",320),t))r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #320; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(0,e);return!0}return!1}(e)?(0,l.jsx)(aI,{editor:e,ErrorBoundary:t}):null}function aB(e){return e.getEditorState().read(aR(e.isComposing()))}function aK({contentEditable:e,placeholder:t=null,ErrorBoundary:n}){var r;let[i]=a();return aF(()=>{var e;return sP(sP((e=r).registerCommand(eM,e=>{let t=nP();return!!ny(t)&&(t.clear(),!0)},0),e.registerCommand(eF,e=>{let t=nP();return np(t)?(t.deleteCharacter(e),!0):!!ny(t)&&(t.deleteNodes(),!0)},0),e.registerCommand(ej,e=>{let t=nP();return!!np(t)&&(t.deleteWord(e),!0)},0),e.registerCommand(eH,e=>{let t=nP();return!!np(t)&&(t.deleteLine(e),!0)},0),e.registerCommand(eB,t=>{let n=nP();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;let r=t.dataTransfer;if(null!=r)sF(r,n,e);else if(np(n)){let e=t.data;return e&&n.insertText(e),!0}}return!0},0),e.registerCommand(eW,()=>{let e=nP();return!!np(e)&&(e.removeText(),!0)},0),e.registerCommand(e$,e=>{let t=nP();return!!np(t)&&(t.formatText(e),!0)},0),e.registerCommand(te,e=>{let t=nP();if(!np(t)&&!ny(t))return!1;for(let n of t.getNodes()){let t=iM(n,e=>rn(e)&&!e.isInline());null!==t&&t.setFormat(e)}return!0},0),e.registerCommand(eI,e=>{let t=nP();return!!np(t)&&(t.insertLineBreak(e),!0)},0),e.registerCommand(ez,()=>{let e=nP();return!!np(e)&&(e.insertParagraph(),!0)},0),e.registerCommand(e4,()=>{var e;let t;return e=[na()],null===(t=nP()||nD())&&(t=rJ().selectEnd()),t.insertNodes(e),!0},0),e.registerCommand(e9,()=>aE(e=>{let t=e.getIndent();e.setIndent(t+1)}),0),e.registerCommand(e7,()=>aE(e=>{let t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),0),e.registerCommand(eZ,e=>{let t=nP();if(ny(t)){let n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}else if(np(t)){let n=ie(t.focus,!0);if(!e.shiftKey&&rl(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1},0),e.registerCommand(eQ,e=>{let t=nP();if(ny(t)){let n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}else if(np(t)){let n;if("root"===(n=t.focus).key&&n.offset===rJ().getChildrenSize())return e.preventDefault(),!0;let r=ie(t.focus,!1);if(!e.shiftKey&&rl(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},0),e.registerCommand(eG,e=>{let t=nP();if(ny(t)){let n=t.getNodes();if(n.length>0)return e.preventDefault(),sC(n[0])?n[0].selectNext(0,0):n[0].selectPrevious(),!0}if(!np(t))return!1;if(sT(t,!0)){let n=e.shiftKey;return e.preventDefault(),sN(t,n,!0),!0}return!1},0),e.registerCommand(eY,e=>{let t=nP();if(ny(t)){let n=t.getNodes();if(n.length>0)return e.preventDefault(),sC(n[0])?n[0].selectPrevious():n[0].selectNext(0,0),!0}if(!np(t))return!1;let n=e.shiftKey;return!!sT(t,!1)&&(e.preventDefault(),sN(t,n,!1),!0)},0),e.registerCommand(e2,t=>{if(rl(rj(t.target)))return!1;let n=nP();if(np(n)){if(function(e){var t;let n;if(!e.isCollapsed())return!1;let{anchor:r}=e;if(0!==r.offset)return!1;let i=r.getNode();if(rs(i))return!1;let l=(n=iM(t=i,e=>rn(e)&&!e.isInline()),rn(n)||function(e,...t){let n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let e of(r.append("code",4),t))r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #4; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(0,t.__key),n);return l.getIndent()>0&&(l.is(i)||i.is(l.getFirstDescendant()))}(n))return t.preventDefault(),e.dispatchCommand(e7,void 0);if(ag&&"ko-KR"===navigator.language)return!1}else if(!ny(n))return!1;return t.preventDefault(),e.dispatchCommand(eF,!0)},0),e.registerCommand(e5,t=>{if(rl(rj(t.target)))return!1;let n=nP();return!(!np(n)&&!ny(n))&&(t.preventDefault(),e.dispatchCommand(eF,!1))},0),e.registerCommand(e0,t=>{let n=nP();if(!np(n))return!1;if(aT(n),null!==t){if((ag||ah||am)&&ac)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(eI,!1)}return e.dispatchCommand(ez,void 0)},0),e.registerCommand(e3,()=>!!np(nP())&&(e.blur(),!0),0),e.registerCommand(e8,t=>{let[,n]=aw(t);if(n.length>0){let r=aa(t.clientX,t.clientY);if(null!==r){let{offset:t,node:i}=r,l=rj(i);if(null!==l){let e=nO();if(nl(l))e.anchor.set(l.getKey(),t,"text"),e.focus.set(l.getKey(),t,"text");else{let t=l.getParentOrThrow().getKey(),n=l.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}rV(G(e))}e.dispatchCommand(ay,n)}return t.preventDefault(),!0}return!!np(nP())},0),e.registerCommand(tt,e=>{let[t]=aw(e),n=nP();return!(t&&!np(n))},0),e.registerCommand(tn,e=>{let[t]=aw(e),n=nP();if(t&&!np(n))return!1;let r=aa(e.clientX,e.clientY);return null!==r&&rl(rj(r.node))&&e.preventDefault(),!0},0),e.registerCommand(to,()=>((function(e){let t=rJ();if(np(void 0)){let e=(void 0).anchor,t=(void 0).focus,n=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();return e.set(n.getKey(),0,"element"),t.set(n.getKey(),n.getChildrenSize(),"element"),G(void 0)}rV(G(t.select(0,t.getChildrenSize())))})(),!0),0),e.registerCommand(ti,t=>(sB(e,sL(t,ClipboardEvent)?t:null),!0),0),e.registerCommand(tl,t=>((async function(e,t){await sB(t,sL(e,ClipboardEvent)?e:null),t.update(()=>{let e=nP();np(e)?e.removeText():ny(e)&&e.getNodes().forEach(e=>e.remove())})})(t,e),!0),0),e.registerCommand(eK,t=>{let[,n,r]=aw(t);return n.length>0&&!r?(e.dispatchCommand(ay,n),!0):!(ix(t.target)&&rw(t.target))&&null!==nP()&&(t.preventDefault(),e.update(()=>{let n=nP(),r=sL(t,InputEvent)||sL(t,KeyboardEvent)?null:t.clipboardData;null!=r&&null!==n&&sF(r,n,e)},{tag:"paste"}),!0)},0),e.registerCommand(e1,e=>{let t=nP();return np(t)&&aT(t),!1},0),e.registerCommand(e6,e=>{let t=nP();return np(t)&&aT(t),!1},0)),as(r))},[r=i]),(0,l.jsxs)(l.Fragment,{children:[e,(0,l.jsx)(aW,{content:t}),(0,l.jsx)(az,{editor:i,ErrorBoundary:n})]})}function aW({content:e}){let[t]=a(),n=function(e){let[t,n]=(0,o.useState)(()=>aB(e));return aF(()=>{function t(){n(aB(e))}return t(),sP(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(t),r=function(e){let[t]=a(),n=(0,o.useMemo)(()=>e(t),[t,e]),[r,i]=(0,o.useState)(()=>n.initialValueFn()),l=(0,o.useRef)(r);return aD(()=>{let{initialValueFn:e,subscribe:t}=n,r=e();return l.current!==r&&(l.current=r,i(r)),t(e=>{l.current=e,i(e)})},[n,e]),r}(aL);return n?"function"==typeof e?e(r):e:null}let aj="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,aH=(0,o.forwardRef)(function({editor:e,ariaActiveDescendant:t,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:i,ariaErrorMessage:s,ariaExpanded:a,ariaInvalid:u,ariaLabel:d,ariaLabelledBy:f,ariaMultiline:c,ariaOwns:h,ariaRequired:g,autoCapitalize:p,className:m,id:y,role:_="textbox",spellCheck:x=!0,style:v,tabIndex:b,"data-testid":C,...S},w){let[E,T]=(0,o.useState)(e.isEditable()),k=(0,o.useCallback)(t=>{t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null)},[e]),N=(0,o.useMemo)(()=>(function(...e){return t=>{for(let n of e)"function"==typeof n?n(t):null!=n&&(n.current=t)}})(w,k),[k,w]);return aj(()=>(T(e.isEditable()),e.registerEditableListener(e=>{T(e)})),[e]),(0,l.jsx)("div",{"aria-activedescendant":E?t:void 0,"aria-autocomplete":E?n:"none","aria-controls":E?r:void 0,"aria-describedby":i,...null!=s?{"aria-errormessage":s}:{},"aria-expanded":E&&"combobox"===_?!!a:void 0,...null!=u?{"aria-invalid":u}:{},"aria-label":d,"aria-labelledby":f,"aria-multiline":c,"aria-owns":E?h:void 0,"aria-readonly":!E||void 0,"aria-required":g,autoCapitalize:p,className:m,contentEditable:E,"data-testid":C,id:y,ref:N,role:_,spellCheck:x,style:v,tabIndex:b,...S})});function a$(e){return e.getEditorState().read(aR(e.isComposing()))}let aJ=(0,o.forwardRef)(function(e,t){let{placeholder:n,...r}=e,[i]=a();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(aH,{editor:i,...r,ref:t}),null!=n&&(0,l.jsx)(aU,{editor:i,content:n})]})});function aU({content:e,editor:t}){let n=function(e){let[t,n]=(0,o.useState)(()=>a$(e));return aj(()=>{function t(){n(a$(e))}return t(),sP(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(t),[r,i]=(0,o.useState)(t.isEditable());if((0,o.useLayoutEffect)(()=>(i(t.isEditable()),t.registerEditableListener(e=>{i(e)})),[t]),!n)return null;let s=null;return"function"==typeof e?s=e(r):null!==e&&(s=e),null===s?null:(0,l.jsx)("div",{"aria-hidden":!0,children:s})}function aV({placeholder:e,className:t,placeholderClassName:n}){return(0,l.jsx)(aJ,{className:t??"ContentEditable__root relative block min-h-72 min-h-full overflow-auto px-8 py-4 focus:outline-none","aria-placeholder":e,placeholder:(0,l.jsx)("div",{className:n??"text-muted-foreground pointer-events-none absolute top-0 left-0 overflow-hidden px-8 py-[18px] text-ellipsis select-none",children:e})})}function aY(){let[e,t]=(0,o.useState)(null);return(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(aK,{contentEditable:(0,l.jsx)("div",{className:"",children:(0,l.jsx)("div",{className:"",ref:e=>{null!==e&&t(e)},children:(0,l.jsx)(aV,{placeholder:"Start typing ..."})})}),ErrorBoundary:aP})})})}let aq={namespace:"Editor",theme:{ltr:"text-left",rtl:"text-right",heading:{h1:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl",h2:"scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0",h3:"scroll-m-20 text-2xl font-semibold tracking-tight",h4:"scroll-m-20 text-xl font-semibold tracking-tight",h5:"scroll-m-20 text-lg font-semibold tracking-tight",h6:"scroll-m-20 text-base font-semibold tracking-tight"},paragraph:"leading-7 [&:not(:first-child)]:mt-6",quote:"mt-6 border-l-2 pl-6 italic",link:"text-blue-600 hover:underline hover:cursor-pointer",list:{checklist:"relative",listitem:"mx-8",listitemChecked:'relative mx-2 px-6 list-none outline-none line-through before:content-[""] before:w-4 before:h-4 before:top-0.5 before:left-0 before:cursor-pointer before:block before:bg-cover before:absolute before:border before:border-primary before:rounded before:bg-primary before:bg-no-repeat after:content-[""] after:cursor-pointer after:border-white after:border-solid after:absolute after:block after:top-[6px] after:w-[3px] after:left-[7px] after:right-[7px] after:h-[6px] after:rotate-45 after:border-r-2 after:border-b-2 after:border-l-0 after:border-t-0',listitemUnchecked:'relative mx-2 px-6 list-none outline-none before:content-[""] before:w-4 before:h-4 before:top-0.5 before:left-0 before:cursor-pointer before:block before:bg-cover before:absolute before:border before:border-primary before:rounded',nested:{listitem:"list-none before:hidden after:hidden"},ol:"m-0 p-0 list-decimal [&>li]:mt-2",olDepth:["list-outside !list-decimal","list-outside !list-[upper-roman]","list-outside !list-[lower-roman]","list-outside !list-[upper-alpha]","list-outside !list-[lower-alpha]"],ul:"m-0 p-0 list-outside [&>li]:mt-2",ulDepth:["list-outside !list-disc","list-outside !list-disc","list-outside !list-disc","list-outside !list-disc","list-outside !list-disc"]},hashtag:"text-blue-600 bg-blue-100 rounded-md px-1",text:{bold:"font-bold",code:"bg-gray-100 p-1 rounded-md",italic:"italic",strikethrough:"line-through",subscript:"sub",superscript:"sup",underline:"underline",underlineStrikethrough:"[text-decoration:underline_line-through]"},image:"relative inline-block user-select-none cursor-default editor-image",inlineImage:"relative inline-block user-select-none cursor-default inline-editor-image",keyword:"text-purple-900 font-bold",code:"EditorTheme__code",codeHighlight:{atrule:"EditorTheme__tokenAttr",attr:"EditorTheme__tokenAttr",boolean:"EditorTheme__tokenProperty",builtin:"EditorTheme__tokenSelector",cdata:"EditorTheme__tokenComment",char:"EditorTheme__tokenSelector",class:"EditorTheme__tokenFunction","class-name":"EditorTheme__tokenFunction",comment:"EditorTheme__tokenComment",constant:"EditorTheme__tokenProperty",deleted:"EditorTheme__tokenProperty",doctype:"EditorTheme__tokenComment",entity:"EditorTheme__tokenOperator",function:"EditorTheme__tokenFunction",important:"EditorTheme__tokenVariable",inserted:"EditorTheme__tokenSelector",keyword:"EditorTheme__tokenAttr",namespace:"EditorTheme__tokenVariable",number:"EditorTheme__tokenProperty",operator:"EditorTheme__tokenOperator",prolog:"EditorTheme__tokenComment",property:"EditorTheme__tokenProperty",punctuation:"EditorTheme__tokenPunctuation",regex:"EditorTheme__tokenVariable",selector:"EditorTheme__tokenSelector",string:"EditorTheme__tokenSelector",symbol:"EditorTheme__tokenProperty",tag:"EditorTheme__tokenProperty",url:"EditorTheme__tokenOperator",variable:"EditorTheme__tokenVariable"},characterLimit:"!bg-destructive/50",table:"EditorTheme__table w-fit overflow-scroll border-collapse",tableCell:'EditorTheme__tableCell w-24 relative border px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right"',tableCellActionButton:"EditorTheme__tableCellActionButton bg-background block border-0 rounded-2xl w-5 h-5 text-foreground cursor-pointer",tableCellActionButtonContainer:"EditorTheme__tableCellActionButtonContainer block right-1 top-1.5 absolute z-10 w-5 h-5",tableCellEditing:"EditorTheme__tableCellEditing rounded-sm shadow-sm",tableCellHeader:"EditorTheme__tableCellHeader bg-muted border px-4 py-2 text-left font-bold [&[align=center]]:text-center [&[align=right]]:text-right",tableCellPrimarySelected:"EditorTheme__tableCellPrimarySelected border border-primary border-solid block h-[calc(100%-2px)] w-[calc(100%-2px)] absolute -left-[1px] -top-[1px] z-10 ",tableCellResizer:"EditorTheme__tableCellResizer absolute -right-1 h-full w-2 cursor-ew-resize z-10 top-0",tableCellSelected:"EditorTheme__tableCellSelected bg-muted",tableCellSortedIndicator:"EditorTheme__tableCellSortedIndicator block opacity-50 bsolute bottom-0 left-0 w-full h-1 bg-muted",tableResizeRuler:"EditorTheme__tableCellResizeRuler block absolute w-[1px] h-full bg-primary top-0",tableRowStriping:"EditorTheme__tableRowStriping m-0 border-t p-0 even:bg-muted",tableSelected:"EditorTheme__tableSelected ring-2 ring-primary ring-offset-2",tableSelection:"EditorTheme__tableSelection bg-transparent",layoutItem:"border border-dashed px-4 py-2",layoutContainer:"grid gap-2.5 my-2.5 mx-0",autocomplete:"text-muted-foreground",blockCursor:"",embedBlock:{base:"user-select-none",focus:"ring-2 ring-primary ring-offset-2"},hr:'p-0.5 border-none my-1 mx-0 cursor-pointer after:content-[""] after:block after:h-0.5 after:bg-muted selected:ring-2 selected:ring-primary selected:ring-offset-2 selected:user-select-none',indent:"[--lexical-indent-base-value:40px]",mark:"",markOverlap:""},nodes:ak,onError:e=>{console.error(e)}};function aG({editorState:e,editorSerializedState:t,onChange:n,onSerializedChange:r}){return(0,l.jsx)("div",{className:"bg-background overflow-hidden rounded-lg border shadow",children:(0,l.jsx)(ld,{initialConfig:{...aq,...e?{editorState:e}:{},...t?{editorState:JSON.stringify(t)}:{}},children:(0,l.jsxs)(s_,{children:[(0,l.jsx)(aY,{}),(0,l.jsx)(lc,{ignoreSelectionChange:!0,onChange:e=>{n?.(e),r?.(e.toJSON())}})]})})})}let aX={root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"Hello World 🚀",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1}],direction:"ltr",format:"",indent:0,type:"root",version:1}};function aZ(){let[e,t]=(0,o.useState)(aX);return(0,l.jsx)(aG,{editorSerializedState:e,onSerializedChange:e=>t(e)})}e.s(["default",()=>aZ,"initialValue",0,aX],79684)}]);