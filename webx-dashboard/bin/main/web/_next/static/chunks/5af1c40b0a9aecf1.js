(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57264,e=>{"use strict";var t=e.i(52107),s=e.i(63219),r=e.i(77411);let a=(0,r.createContext)(void 0);e.s(["DashboardProvider",0,({children:e})=>{let[o,n]=(0,r.useState)(null),[l,i]=(0,r.useState)([]),[c,m]=(0,r.useState)([]),[d,u]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[y,f]=(0,r.useState)(""),[g,b]=(0,r.useState)({cpu:[25,30,45,50,35,40,55,60,45,50],memory:[60,65,70,75,80,85,90,95,85,80],players:[5,8,12,15,10,7,9,14,11,8],disk:[45,50,55,60,65,70,75,80,85,90],timestamps:Array.from({length:10},(e,t)=>Date.now()-(9-t)*1e3)});(0,r.useEffect)(()=>{let e=t.default.env.NEXT_PUBLIC_WS_URL||"ws://localhost:9092/metrics";try{let t=new WebSocket(e);return t.onopen=()=>{console.log("âœ… Connected to metrics WebSocket")},t.onmessage=e=>{try{let t=JSON.parse(e.data);n({cpu:t.cpuUsage,memUsed:t.memUsed,memMax:t.memMax,diskUsed:t.diskUsed,diskTotal:t.diskTotal,players:t.onlinePlayers}),i(e=>[...e,{cpu:t.cpuUsage,memUsed:t.memUsed,memMax:t.memMax,diskUsed:t.diskUsed,diskTotal:t.diskTotal,players:t.onlinePlayers}].slice(-30)),b(e=>{let s=[...e.cpu,t.cpuUsage].slice(-30),r=[...e.memory,t.memUsed/t.memMax*100].slice(-30),a=[...e.players,t.onlinePlayers].slice(-30),o=[...e.disk,t.diskUsed/t.diskTotal*100].slice(-30),n=[...e.timestamps,t.timestamp].slice(-30);return{cpu:s,memory:r,players:a,disk:o,timestamps:n}}),console.log("ðŸ“Š Metrics updated:",{cpu:t.cpuUsage.toFixed(2)+"%",memory:(t.memUsed/t.memMax*100).toFixed(2)+"%",players:t.onlinePlayers})}catch(e){console.error("Error parsing metrics data:",e)}},t.onerror=e=>{console.error("âŒ WebSocket error:",e)},t.onclose=()=>{console.log("ðŸ”Œ Disconnected from metrics WebSocket")},()=>{t.readyState===WebSocket.OPEN&&t.close()}}catch(e){console.error("Error connecting to WebSocket:",e)}},[]),(0,r.useEffect)(()=>{p([{name:"WorldEdit",version:"7.2.15",description:"In-game map editor and world manipulation tool",status:"enabled",author:"EngineHub"},{name:"WorldGuard",version:"7.0.8",description:"World protection and region management",status:"enabled",author:"EngineHub"},{name:"Essentials",version:"2.20.1",description:"Essential commands and features for servers",status:"enabled",author:"Essentials Team"},{name:"LuckPerms",version:"5.4.102",description:"Advanced permissions management system",status:"enabled",author:"Luck"},{name:"Vault",version:"1.7.3",description:"Economy and permissions API",status:"enabled",author:"Sleaker"},{name:"PlaceholderAPI",version:"2.11.5",description:"Placeholder system for other plugins",status:"enabled",author:"HelpChat"}])},[]);let k=async()=>{try{let e=await fetch("http://localhost:9092/api/players");if(e.ok){let t=await e.json();m(t)}}catch(e){console.error("Error fetching players:",e)}},v=async()=>{try{let e=await fetch("http://localhost:9092/api/map");if(e.ok){let t=await e.json();u(t)}}catch(e){console.error("Error fetching map:",e)}},S=async()=>{try{let e=await fetch("http://localhost:9092/api/stats/history");if(e.ok){let t=await e.json();b({cpu:t.map(e=>e.cpu),memory:t.map(e=>e.memUsed/e.memMax*100),players:t.map(e=>e.players),disk:t.map(e=>e.diskUsed/e.diskTotal*100),timestamps:t.map((e,s)=>Date.now()-(t.length-1-s)*2e3)})}}catch(e){console.error("Error fetching chart data:",e)}},w=async e=>{try{await fetch("http://localhost:9092/api/command?cmd="+encodeURIComponent(e),{method:"POST"})}catch(e){console.error("Error running command:",e)}};return(0,s.jsx)(a.Provider,{value:{stats:o,statsHistory:l,players:c,entities:d,plugins:h,mapImage:y,chartData:g,fetchPlayers:k,fetchMap:v,fetchChartData:S,runCommand:w},children:e})},"useDashboard",0,()=>{let e=(0,r.useContext)(a);if(!e)throw Error("useDashboard must be used within a DashboardProvider");return e}])},94910,e=>{"use strict";var t=e.i(77411),s=(e,t,s,r,a,o,n,l)=>{let i=document.documentElement,c=["light","dark"];function m(t){var s;(Array.isArray(e)?e:[e]).forEach(e=>{let s="class"===e,r=s&&o?a.map(e=>o[e]||e):a;s?(i.classList.remove(...r),i.classList.add(o&&o[t]?o[t]:t)):i.setAttribute(e,t)}),s=t,l&&c.includes(s)&&(i.style.colorScheme=s)}if(r)m(r);else try{let e=localStorage.getItem(t)||s,r=n&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;m(r)}catch(e){}},r=["light","dark"],a="(prefers-color-scheme: dark)",o="undefined"==typeof window,n=t.createContext(void 0),l={setTheme:e=>{},themes:[]},i=()=>{var e;return null!=(e=t.useContext(n))?e:l},c=e=>t.useContext(n)?t.createElement(t.Fragment,null,e.children):t.createElement(d,{...e}),m=["light","dark"],d=({forcedTheme:e,disableTransitionOnChange:s=!1,enableSystem:o=!0,enableColorScheme:l=!0,storageKey:i="theme",themes:c=m,defaultTheme:d=o?"system":"light",attribute:f="data-theme",value:g,children:b,nonce:k,scriptProps:v})=>{let[S,w]=t.useState(()=>h(i,d)),[E,T]=t.useState(()=>"system"===S?y():S),C=g?Object.values(g):c,P=t.useCallback(e=>{let t=e;if(!t)return;"system"===e&&o&&(t=y());let a=g?g[t]:t,n=s?p(k):null,i=document.documentElement,c=e=>{"class"===e?(i.classList.remove(...C),a&&i.classList.add(a)):e.startsWith("data-")&&(a?i.setAttribute(e,a):i.removeAttribute(e))};if(Array.isArray(f)?f.forEach(c):c(f),l){let e=r.includes(d)?d:null,s=r.includes(t)?t:e;i.style.colorScheme=s}null==n||n()},[k]),U=t.useCallback(e=>{let t="function"==typeof e?e(S):e;w(t);try{localStorage.setItem(i,t)}catch(e){}},[S]),x=t.useCallback(t=>{T(y(t)),"system"===S&&o&&!e&&P("system")},[S,e]);t.useEffect(()=>{let e=window.matchMedia(a);return e.addListener(x),x(e),()=>e.removeListener(x)},[x]),t.useEffect(()=>{let e=e=>{e.key===i&&(e.newValue?w(e.newValue):U(d))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[U]),t.useEffect(()=>{P(null!=e?e:S)},[e,S]);let A=t.useMemo(()=>({theme:S,setTheme:U,forcedTheme:e,resolvedTheme:"system"===S?E:S,themes:o?[...c,"system"]:c,systemTheme:o?E:void 0}),[S,U,e,E,o,c]);return t.createElement(n.Provider,{value:A},t.createElement(u,{forcedTheme:e,storageKey:i,attribute:f,enableSystem:o,enableColorScheme:l,defaultTheme:d,value:g,themes:c,nonce:k,scriptProps:v}),b)},u=t.memo(({forcedTheme:e,storageKey:r,attribute:a,enableSystem:o,enableColorScheme:n,defaultTheme:l,value:i,themes:c,nonce:m,scriptProps:d})=>{let u=JSON.stringify([a,r,l,e,c,i,o,n]).slice(1,-1);return t.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?m:"",dangerouslySetInnerHTML:{__html:`(${s.toString()})(${u})`}})}),h=(e,t)=>{let s;if(!o){try{s=localStorage.getItem(e)||void 0}catch(e){}return s||t}},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},y=e=>(e||(e=window.matchMedia(a)),e.matches?"dark":"light");e.s(["ThemeProvider",()=>c,"useTheme",()=>i])}]);